@prefix s-wfb: <http://semantic-machines.com/veda/simple-workflow-base/> .
@prefix : <http://semantic-machines.com/veda/simple-workflow/> .
@prefix s-wf: <http://semantic-machines.com/veda/simple-workflow/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix v-wf: <http://semantic-machines.com/veda/veda-workflow/> .
@prefix v-s: <http://semantic-machines.com/veda/veda-schema/> .
@prefix v-ui: <http://semantic-machines.com/veda/veda-ui/> .
@prefix td: <http://semantic-machines.com/veda/test-data/> .
@prefix d: <http://semantic-machines.com/veda/veda-data/>.
@prefix cfg: <http://semantic-machines.com/veda/config/> .
@prefix v-ft: <http://semantic-machines.com/veda/veda-function-tasks/> .

<http://semantic-machines.com/veda/complex-route-template>
  rdf:type owl:Ontology ;
  owl:imports <http://semantic-machines.com/veda/veda-workflow> ;
  rdfs:label "complex-route-template"@en ;
  rdfs:label "шаблоны для комплексного маршрута "@ru ;
  v-s:loadPriority 21 ;
.


# ------------------------------- NET Complex Route : User Form ---------------------------- #
s-wf:ComplexRouteStartForm
  rdf:type rdfs:Class ;
  rdfs:subClassOf v-wf:StartForm ;
  rdfs:label "Стартовая форма сети Комплексный маршрут"@ru ;
  rdfs:label "Complex route start form"@en ;
  rdfs:isDefinedBy s-wf: ;
  v-ui:hasTemplate s-wf:ComplexRouteStartForm_Template ;
.

s-wf:ComplexRouteStartForm_Template
  rdf:type v-ui:ClassTemplate ;
  rdfs:isDefinedBy s-wf: ;
  rdfs:label "Шаблон стартовых данных Комплексного маршрута"@ru ;
  rdfs:label "Complex route start form template"@en ;
  v-ui:forClass s-wf:ComplexRouteStartForm ;
  v-ui:template """
<script>

if (this.hasValue("v-wf:isProcess")) {
  $('#save_and_start_process', template).remove();
} else {
  $('#save_and_start_process', template).on('click', function () {
    stages.forEach(function(stage) {
      var routeid = complex+stage;
      var sub = individual[routeid][0];
      if (!sub || !sub.hasValue(simple+'participant') || sub.properties[simple+'participant'].length == 0) {
        delete individual.properties[routeid];
      }
    });
    veda.Util.send(individual, template);
  });
}

if (mode !== "edit") { return; }

var stages = [ // Default values fill
  'informing',      //Информирование
  'introduction',   //
  'coordination1',
  'coordination2',
  'coordination3',
  'coordination4',
  'coordination5',
  'coordination6',
  'sign',
  'approval',
  'review',         //Рассмотрение
  'instruction',
  'instruction2',
  'instruction3',
  'examination',    //Ознакомление
  'distribution',
  'auto_instruction'
];
var complex = 's-wf:ComplexRouteStartForm_';
var simple = 's-wf:SimpleRouteStartForm_';

var routes = [];

var doc = individual['v-wf:processedDocument'][0];

if (!doc) { return; }

stages.forEach(function(stage) {
  routes[stage] = new veda.IndividualModel();
  routes[stage]['rdf:type'] = [new veda.IndividualModel('s-wf:SimpleRouteStartForm')];
});

// DEFAULT
routes['introduction'][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionExamined')]")];
routes['introduction'][simple+'task_label'] = veda.Util.mlstring("Ознакомление", "Introduction");
for (var i = 1; i <= 6; i++) {
  routes['coordination'+i][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionAgreed'), newUri('v-wf:DecisionDeclined'), newUri('v-wf:DecisionNoAgreed'), newUri('v-wf:DecisionRedirect'), newUri('v-wf:DecisionNotForMe')]")];
  routes['coordination'+i][simple+'task_label'] = veda.Util.mlstring("Согласовать", "Coordinate");
}

routes['sign'][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionSign'), newUri('v-wf:DecisionDeclined'), newUri('v-wf:DecisionRedirect'), newUri('v-wf:DecisionNotForMe')]")];
routes['sign'][simple+'task_label'] = veda.Util.mlstring("Подписать", "Sign");
routes['approval'][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionApprove'), newUri('v-wf:DecisionDeclined'), newUri('v-wf:DecisionRedirect'), newUri('v-wf:DecisionNotForMe')]")];
routes['approval'][simple+'task_label'] = veda.Util.mlstring("Утвердить", "Approve");
routes['review'][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionReview'), newUri('v-wf:DecisionRejected'), newUri('v-wf:DecisionRedirect'), newUri('v-wf:DecisionNotForMe')]")];
routes['review'][simple+'task_label'] = veda.Util.mlstring("Рассмотреть", "Review");
routes['instruction'][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionAchieved'), newUri('v-wf:DecisionRejected'), newUri('v-wf:DecisionNotPerformed'), newUri('v-wf:DecisionRedirect'), newUri('v-wf:DecisionNotForMe')]")];
routes['instruction'][simple+'task_label'] = veda.Util.mlstring("Исполнить поручение", "Execute task");
routes['instruction2'][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionAchieved'), newUri('v-wf:DecisionRejected'), newUri('v-wf:DecisionNotPerformed'), newUri('v-wf:DecisionRedirect'), newUri('v-wf:DecisionNotForMe')]")];
routes['instruction2'][simple+'task_label'] = veda.Util.mlstring("Рассмотреть", "Execute task");
routes['instruction3'][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionAchieved'), newUri('v-wf:DecisionRejected'), newUri('v-wf:DecisionNotPerformed'), newUri('v-wf:DecisionRedirect'), newUri('v-wf:DecisionNotForMe')]")];
routes['instruction3'][simple+'task_label'] = veda.Util.mlstring("Ознакомиться", "Execute task");
routes['examination'][simple+'possible_decisions'] = [new String("[newUri ('v-wf:DecisionExamined'), newUri('v-wf:DecisionRejected'), newUri('v-wf:DecisionNotPerformed'), newUri('v-wf:DecisionRedirect'), newUri('v-wf:DecisionNotForMe')]")];
routes['examination'][simple+'task_label'] = veda.Util.mlstring("Ознакомиться", "Examine");

// CUSTOM
//-------------------------------------------------------------------------------------------------------------------------------------Акт расследования аварии
if (doc['rdf:type'][0].id === "mnd-s:ActFailure") {
  if (!doc.hasValue('v-s:hasAction')) {
    // если [action] пусто, то согласование 1 открыто пусто, поручение - [manager] "Провести необходимое расследование"
    routes['coordination1'][simple+'visible'] = [true];
    routes['coordination1'][simple+'editable'] = [true];
    routes['coordination1'][simple+'deadlineDays'] = [10];

    routes['instruction'][simple+'participant'] = doc["mnd-s:actFailureManager"];
    routes['instruction'][simple+'visible'] = [true];
    routes['instruction'][simple+'editable'] = [true];
    routes['instruction'][simple+'deadlineDays'] = [10];
    routes['instruction'][simple+'comment'] = [new String('Провести необходимое расследование')];
    routes['instruction'][simple+'controller'] = [new veda.IndividualModel("d:mondi_appointment_00058240_71024477")];
  } else {
    // если [action] не пусто, то согласование 1 - [member] + [chief], подписание - пусто, утверждение - Технический директор + Директор по производству
    routes['coordination1'][simple+'visible'] = [true];
    routes['coordination1'][simple+'editable'] = [true];
    if (doc.hasValue('v-s:hasMemberOfWorkGroup')) {
      routes['coordination1'][simple+'participant'] = [];
      doc['v-s:hasMemberOfWorkGroup'].forEach(function(mwg) {
        routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(mwg['v-s:member']);
      });
    }
    routes['sign'][simple+'visible'] = [true];
    routes['sign'][simple+'editable'] = [true];
    routes['sign'][simple+'deadlineDays'] = [10];

    routes['approval'][simple+'participant'] = [new veda.IndividualModel('d:mondi_position_71017804'), new veda.IndividualModel('d:mondi_position_71018870')];
    routes['approval'][simple+'visible'] = [true];
    routes['approval'][simple+'editable'] = [true];
    routes['approval'][simple+'deadlineDays'] = [10];
  }
  //проверка чекбоксов на тру и подстановка людей в ознакомление
  if ( doc["mnd-s:isAFrequiredPurchase"][0] === true && doc["mnd-s:isAFrequiredProject"][0] === true){
    routes['examination'][simple+'visible'] = [true];
    routes['examination'][simple+'editable'] = [true];
    routes['examination'][simple+'participant'] = [ new veda.IndividualModel('d:mondi_position_71018045'), new veda.IndividualModel('d:mondi_position_71021843') ] ;
  } else if ( doc["mnd-s:isAFrequiredPurchase"][0] === true && ( doc["mnd-s:isAFrequiredProject"][0] === false || doc["mnd-s:isAFrequiredProject"][0] === undefined ) ){
    routes['examination'][simple+'visible'] = [true];
    routes['examination'][simple+'editable'] = [true];
    routes['examination'][simple+'participant'] = [ new veda.IndividualModel('d:mondi_position_71018045') ] ;
  } else if ( ( doc["mnd-s:isAFrequiredPurchase"][0] === false || doc["mnd-s:isAFrequiredPurchase"][0] === undefined ) && doc["mnd-s:isAFrequiredProject"][0] === true ){
    routes['examination'][simple+'visible'] = [true];
    routes['examination'][simple+'editable'] = [true];
    routes['examination'][simple+'participant'] = [ new veda.IndividualModel('d:mondi_position_71021843') ] ;
  }
}
//---------------------------------------------------------------------------------------------------------------------------Запрос на согласование контрагента
if (doc['rdf:type'][0].id === "mnd-s:ContractorCategoryRequest") {

  if (doc.hasValue('mnd-s:hasContractorInteractionCategory') && doc['mnd-s:hasContractorInteractionCategory'][0].id == 'd:a188a7057-11d1-ce95-4e3c-3c4712b754f0') {
    // Блокировка
    if (doc.hasValue('mnd-s:contractorRiskDecisionToAccept') && doc['mnd-s:contractorRiskDecisionToAccept'][0] == false) {
      // НЕ оценка рисков
      routes['coordination1'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_70006692")]; // глав бух
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [true];
      routes['coordination1'][simple+'deadlineDays'] = [3];
      routes['coordination1'][simple+'comment'] = [new String('Сальдо расчетов, наличие просроченной задолженности')];

      if (doc.hasValue('v-s:backwardTarget') && doc['v-s:backwardTarget'][0].hasValue('v-s:backwardTarget')) {
        var squery = "( 'rdf:type' == 'mnd-s:Contract' || 'rdf:type' == 'mnd-s:AdditionalAgreement' ) && 'v-s:supplier' == '"+doc['v-s:backwardTarget'][0]['v-s:backwardTarget'][0].id+"'";
        console.log(squery);
        var s = query(veda.ticket, squery);
        s.result.forEach( function (res_id) {
          var obj = new veda.IndividualModel(res_id);
          if (obj.hasValue('mnd-s:supportSpecialistOfContract')) {
            routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat([new veda.IndividualModel(obj['mnd-s:supportSpecialistOfContract'][0].id)]);
          }
        });
      }
      routes['coordination2'][simple+'visible'] = [true];
      routes['coordination2'][simple+'editable'] = [true];
      routes['coordination2'][simple+'deadlineDays'] = [3];
      routes['coordination2'][simple+'comment'] = [new String('Информация о контракте')];

      routes['coordination3'][simple+'participant'] = [new veda.IndividualModel("d:aaf889b74-6caa-8b21-5404-c6a9f91f8666")]; // ПУ
      routes['coordination3'][simple+'visible'] = [true];
      routes['coordination3'][simple+'editable'] = [true];
      routes['coordination3'][simple+'deadlineDays'] = [3];
      routes['coordination3'][simple+'comment'] = [new String('Заключение о возможности блокировки')];
    } else {
      // Оценка рисков
      routes['instruction'][simple+'participant'] = [
        new veda.IndividualModel("d:mondi_position_71015289"), // Фин директор
        new veda.IndividualModel("d:mondi_position_71020115")]; // Начальник УЗ
      routes['instruction'][simple+'visible'] = [true];
      routes['instruction'][simple+'editable'] = [true];
      routes['instruction'][simple+'deadlineDays'] = [3];

      if (veda.user && veda.user.hasValue('v-s:hasAppointment')) {
        routes['instruction2'][simple+'participant'] = veda.user['v-s:hasAppointment'];
        routes['instruction2'][simple+'visible'] = [true];
        routes['instruction2'][simple+'editable'] = [true];
        routes['instruction2'][simple+'deadlineDays'] = [3];
        routes['instruction2'][simple+'comment'] = [new String('Оценка рисков произведена')];
      }
    }
  } else {
    if (doc.hasValue('mnd-s:contractorRiskDecisionToAccept') && doc['mnd-s:contractorRiskDecisionToAccept'][0] == false) {
      // НЕ оценка рисков
      routes['coordination1'][simple+'participant'] = [new veda.IndividualModel("d:dc50f0d3-0d1b-4505-874a-09c5a9c7333f")];
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [false];
      routes['coordination1'][simple+'deadlineDays'] = [3];

      routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:39bd6fed-fad3-453e-bca4-e8ebd0e3cc73")];
      routes['coordination2'][simple+'visible'] = [true];
      routes['coordination2'][simple+'editable'] = [false];
      routes['coordination2'][simple+'deadlineDays'] = [3];

      routes['coordination3'][simple+'visible'] = [true];
      routes['coordination3'][simple+'editable'] = [true];
      routes['coordination3'][simple+'deadlineDays'] = [10];

      if (veda.user && veda.user.hasValue('v-s:hasAppointment')) {
        routes['examination'][simple+'participant'] = veda.user['v-s:hasAppointment'];
        routes['examination'][simple+'visible'] = [true];
        routes['examination'][simple+'editable'] = [false];
        routes['examination'][simple+'deadlineDays'] = [10];
        routes['examination'][simple+'comment'] = [new String('Согласование завершено')];
      }
    } else {
      // Оценка рисков
      routes['coordination1'][simple+'participant'] = [new veda.IndividualModel("d:aaf889b74-6caa-8b21-5404-c6a9f91f8666")]; // ПУ
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [true];
      routes['coordination1'][simple+'deadlineDays'] = [3];
      routes['coordination1'][simple+'comment'] = [new String('Заключение о возможности блокировки')];

      routes['instruction'][simple+'participant'] = [
        new veda.IndividualModel("d:mondi_position_71015289"), // Фин директор
        new veda.IndividualModel("d:mondi_position_71020115")]; // Начальник УЗ
      routes['instruction'][simple+'visible'] = [true];
      routes['instruction'][simple+'editable'] = [true];
      routes['instruction'][simple+'deadlineDays'] = [3];

      if (veda.user && veda.user.hasValue('v-s:hasAppointment')) {
        routes['instruction2'][simple+'participant'] = veda.user['v-s:hasAppointment'];
        routes['instruction2'][simple+'visible'] = [true];
        routes['instruction2'][simple+'editable'] = [true];
        routes['instruction2'][simple+'deadlineDays'] = [3];
        routes['instruction2'][simple+'comment'] = [new String('Оценка рисков произведена')];
      }
    }
  }
}
//---------------------------------------------------------------------------------------------------------------------Заявка на создание/изменение контрагента
if (doc['rdf:type'][0].id === "mnd-s:ContractorCreateChangeRequest") {
  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [true];
  routes['instruction'][simple+'deadlineDays'] = [10];
  if (doc.hasValue('mnd-s:hasThemeOfContractorCreateChangeRequest')) {
    if (doc['mnd-s:hasThemeOfContractorCreateChangeRequest'][0].id == 'd:74cb9e0342034039820a56c35d855dcb' || doc['mnd-s:hasThemeOfContractorCreateChangeRequest'][0].id == 'd:a46ef0cc2-295d-0cdd-cd7c-09634a7769fa') {
      routes['instruction'][simple+'participant'] = [new veda.IndividualModel('d:946589f6-44a6-4c84-96d7-e6f55eb6a76f')]; // (Специалист по ведению дебиторов)
    } else if (doc['mnd-s:hasThemeOfContractorCreateChangeRequest'][0].id == 'd:a75ec9bc7-601f-584c-3064-8b3f63de7806') {
      routes['instruction'][simple+'participant'] = [new veda.IndividualModel('d:3faff975-440f-4499-98c5-eb5eaf4fb04a')]; // (Специалист по ведению кредитора)
    } else {
      if (doc.hasValue('v-s:isDebitor') && doc['v-s:isDebitor'][0] == true) {
        routes['instruction'][simple+'participant'] = [new veda.IndividualModel('d:946589f6-44a6-4c84-96d7-e6f55eb6a76f')]; // (Специалист по ведению дебиторов)
      }
      if (doc.hasValue('v-s:isCreditor') && doc['v-s:isCreditor'][0] == true) {
        routes['instruction'][simple+'participant'] = [new veda.IndividualModel('d:3faff975-440f-4499-98c5-eb5eaf4fb04a')]; // (Специалист по ведению кредитора)
      }
    }
  }
routes['examination'][simple+'participant'] = veda.user['v-s:hasAppointment'];
routes['examination'][simple+'visible'] = [true];
routes['examination'][simple+'editable'] = [true];
//routes['examination'][simple+'deadlineDays'] = [10];
//routes['examination'][simple+'comment'] = [new String('Согласование завершено')];


}

//--------------------------------------------------------------------------------Претензия-------
if (doc['rdf:type'][0].id === "mnd-s:Claim") {
  routes['introduction'][simple+'visible'] = [true];
  routes['introduction'][simple+'editable'] = [true];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination3'][simple+'visible'] = [true];
  routes['coordination3'][simple+'editable'] = [true];
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['sign'][simple+'deadlineDays'] = [5];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['approval'][simple+'deadlineDays'] = [5];
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
  routes['review'][simple+'deadlineDays'] = [3];
}
//------------------------------------------------------Внутренний бухгалтерский документ-------
if (doc['rdf:type'][0].id === "mnd-s:InternalAccountingDocument") {
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination3'][simple+'visible'] = [true];
  routes['coordination3'][simple+'editable'] = [true];
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['sign'][simple+'deadlineDays'] = [5];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['approval'][simple+'deadlineDays'] = [5];
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
  routes['review'][simple+'deadlineDays'] = [3];
  if ( (doc.hasValue("v-s:hasDocumentKind", "d:837027d7e8b04305a5b632224f0d2716")) || (doc.hasValue("v-s:hasDocumentKind", "d:90209600a3a44baa9e185809e4ecd866"))){
    routes['review'][simple+'participant'] = [new veda.IndividualModel("d:2ee64753-2e4c-4e33-8a30-b14d1ab45854")];
  } else if ( doc.hasValue("v-s:hasDocumentKind", "d:a7c3b20d5dc243c9ad078947ede1bb18") ){
    routes['review'][simple+'participant'] = [new veda.IndividualModel("d:4ec0c188-45cb-437b-97c2-3d87251f9594")];
  }
  if ( (doc.hasValue("v-s:hasDocumentKind", "d:837027d7e8b04305a5b632224f0d2716")) && (doc.hasValue("v-s:hasDocumentKind", "d:a7c3b20d5dc243c9ad078947ede1bb18"))){
    routes['review'][simple+'participant'] = [new veda.IndividualModel("d:4ec0c188-45cb-437b-97c2-3d87251f9594"), new veda.IndividualModel("d:2ee64753-2e4c-4e33-8a30-b14d1ab45854")];
  }

  if ( (doc.hasValue("v-s:hasDocumentKind", "d:90209600a3a44baa9e185809e4ecd866")) && (doc.hasValue("v-s:hasDocumentKind", "d:a7c3b20d5dc243c9ad078947ede1bb18"))){
    routes['review'][simple+'participant'] = [new veda.IndividualModel("d:4ec0c188-45cb-437b-97c2-3d87251f9594"), new veda.IndividualModel("d:2ee64753-2e4c-4e33-8a30-b14d1ab45854")];
  }

  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [true];

}
//------------------------------------------Версия локальный нормативный документ----------------

if (doc['rdf:type'][0].id === "mnd-s:VersionOfLocalRegulatoryDocument") {
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination3'][simple+'visible'] = [true];
  routes['coordination3'][simple+'editable'] = [true];
  routes['coordination4'][simple+'visible'] = [true];
  routes['coordination4'][simple+'editable'] = [true];
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [false];
  routes['sign'][simple+'comment'] = [new String('Подписание локального правового документа')];
  if ( doc.hasValue("v-s:signedBy") ){
    var sign = doc["v-s:signedBy"][0];
    routes['sign'][simple+'participant'] = [sign];
  }
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['approval'][simple+'comment'] = [new String('На регистрацию локального правового документа')];
  if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001663' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:1b69d188-8268-4c22-8deb-3bbc0abd249f")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50003376' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:06e9adee-8349-4ec0-8095-7a7b142c9709")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001690' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:2474d195-0bc4-4bc6-83d4-b4a4eb2fb350")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001658' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:424e1e88-ed4e-424d-abc7-a829c0f4d11c")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50003351' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:aa4374af-380a-4f19-a415-4c32d8d1b3e4")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50003410' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:f63d88c8-42c7-4a7b-a1b4-57204bc86541")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001665' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:1ca57ded-c051-4ca4-bc33-fb8994b04d8f")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001666' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:869ca4e0-eb52-4612-a0b8-a66659720c24")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001667' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:8d5a2a33-d646-4006-89ab-bc97064fcc24")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001659' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:dece060b-d010-46e5-95e4-e69244f43e53")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50003657' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:cca0e582-3b9d-4858-98bf-45fe03d1ceb1")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50003626' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:8467ac45-59b9-4c94-833a-330da3683069")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001721' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:e88d9685-d02f-46bc-8e23-7038f018e2bd")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001664' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:beec6105-4511-4c63-861a-d6cde0dfc58b")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001744' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:6f55fed4-5eff-4afe-b00e-e7df7c53be9e")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001669' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:8c81cb04-be5c-442f-bfa2-49f9f47458c2")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001662' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:4f6f2f60-a0cd-49bc-9b0d-d0166909285a")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50003642' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:6990c8e9-f6f4-423d-ac46-b892f64ff3df")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50002528' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:976ffdfe-7a2f-48a7-a64c-eddd4b32c7b6")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50003527' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:f4497f08-5038-4be6-abb8-2fbf28882c8b")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001698' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:2a2fad9b-af5e-47bf-aab8-5e1c5ebd925d")];
  } else if ( doc["v-s:backwardTarget"][0].hasValue("v-s:owner") &&  doc["v-s:backwardTarget"][0]["v-s:owner"][0].id == 'd:mondi_department_50001677' ){
    var owner = doc["v-s:owner"][0];
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:4f93874c-3ec5-480f-9a5a-fdf05d63ce48")];
  } else {
    routes['approval'][simple+'participant'] = [];
    }
  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [true];
  routes['instruction'][simple+'deadlineDays'] =[10];
   if ( doc.hasValue("v-s:creator") ){
    var creator = doc["v-s:creator"][0];
    routes['instruction'][simple+'controller'] = [creator];
  } else {
    routes['instruction'][simple+'controller'] = [];
  }
}

//-----------------------------------------------------------------Заявка на энергоресурсы-------

if (doc['rdf:type'][0].id === "mnd-s:EnergyResourceRequest") {
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [false];
  routes['approval'][simple+'deadlineDays'] = [5];
  routes['approval'][simple+'participant'] =  [new veda.IndividualModel("d:SYK-NSMEN-PP_appointment")];
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [false];
  routes['review'][simple+'deadlineDays'] = [3];
  routes['review'][simple+'participant'] =  [new veda.IndividualModel("d:SYK-NSMEN-KTC1_appointment")];
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['examination'][simple+'participant'] =  [new veda.IndividualModel("d:mondi_position_71026420")];
  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [true];
  routes['distribution'][simple+'visible'] = [true];
  routes['distribution'][simple+'editable'] = [true];


}

//--------------------------------------------------------------------------------Демонтаж-------
if (doc['rdf:type'][0].id === "mnd-s:DismantlingProject") {
  var chief, owner;
  if (doc.hasValue("v-s:projectManager")){
    chief = doc["v-s:projectManager"][0].getChief();
  }
  if (doc.hasValue("v-s:owner") && (doc["v-s:owner"][0] == doc["v-s:creator"][0])){
    owner = [];
  } else {
    owner = doc["v-s:owner"];
  }
  var arr = owner.concat(chief);/*
  routes['introduction'][simple+'visible'] = [false];
  routes['introduction'][simple+'editable'] = [false];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [false];
  routes['coordination1'][simple+'participant'] = arr;
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination3'][simple+'visible'] = [false];
  routes['coordination3'][simple+'editable'] = [false];
  routes['sign'][simple+'visible'] = [false];
  routes['sign'][simple+'editable'] = [false];
  routes['approval'][simple+'visible'] = [false];
  routes['approval'][simple+'editable'] = [false];
  routes['review'][simple+'visible'] = [false];
  routes['review'][simple+'editable'] = [false];
  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [false];
  routes['instruction'][simple+'participant'] =  [new veda.IndividualModel("d:ff670646-d509-4ff9-92f2-482c255441e8")];
  routes['instruction'][simple+'deadlineDays'] =[2];
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];*/




  routes['coordination1'][simple+'visible'] = [true]; //согласование 1
  routes['coordination1'][simple+'editable'] = [false];
  routes['coordination1'][simple+'participant'] = arr;
  routes['coordination2'][simple+'visible'] = [true]; //согласование 2
  routes['coordination2'][simple+'editable'] = [true];
  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [false];
  routes['instruction'][simple+'participant'] =  [new veda.IndividualModel("d:ff670646-d509-4ff9-92f2-482c255441e8")];
  routes['instruction'][simple+'deadlineDays'] =[2];
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
}

//--------------------------------------------------------------------------Внутренний документ
if (doc['rdf:type'][0].id === "mnd-s:InternalDocument") {
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination3'][simple+'visible'] = [true];
  routes['coordination3'][simple+'editable'] = [true];

  var chief;
  if (doc.hasValue("v-s:initiator")){
    chief = doc["v-s:initiator"][0].getChief();
  } else {
    chief = doc["v-s:creator"][0].getChief();
  }

  var chief2;
  if (doc.hasValue("v-s:responsibleDepartment")){
    chief2 = doc["v-s:responsibleDepartment"][0].getChief();
  } else {
    chief2 = doc["v-s:creator"][0].getChief();
  }

//для Запросов, созданных из Инвест заявки
  if (doc.hasValue('v-s:hasDocumentKind', 'd:c526a7045dd340c793a43c09ab1b8885') && doc.hasValue('v-s:theme', 'Согласование графика'))
  {
    routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71024461")]; // Начальник отдела. Отдел кап.стр. и реконструкции УР и Р
    routes['review'][simple+'participant'] = [new veda.IndividualModel("d:ff670646-d509-4ff9-92f2-482c255441e8")]; // Специалист ОУП
  } else {
    routes['sign'][simple+'participant'] = [chief];
    routes['review'][simple+'participant'] = [chief2];

  }

  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['sign'][simple+'deadlineDays'] = [5];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['approval'][simple+'deadlineDays'] = [5];
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
  routes['review'][simple+'deadlineDays'] = [3];
  //Ознакомление
  if (doc.hasValue('v-s:copyTo')) {
    var copy = doc["v-s:copyTo"];
    routes['examination'][simple+'visible'] = [true];
    routes['examination'][simple+'editable'] = [true];
    routes['examination'][simple+'participant'] = copy;
  } else {
    routes['examination'][simple+'visible'] = [true];
    routes['examination'][simple+'editable'] = [true];
  }
  //Поручение
  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [true];
}

//--------------------------------------------------------------------------Заявка на контракт
function objectOrParent(doc, objectId) {
  return doc.hasValue('v-s:hasContractObject') &&
    (doc['v-s:hasContractObject'][0].id == objectId
      || (doc['v-s:hasContractObject'][0].hasValue('v-s:hasParentLink') && doc['v-s:hasContractObject'][0]['v-s:hasParentLink'][0].id == objectId));
}

function algorithm1(doc) {
   if ( objectOrParent(doc, 'd:379cc929f78f4a4e84f36a9f3830d846')
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00064586_71020091")]; // Байлендер
   }
   if ( objectOrParent(doc, 'd:5af63e5bbeb54c4a86c2bc72fb4208a5') // (Целлюлоза)
     || objectOrParent(doc, 'd:3e77773be122494085d07da25fe20076') // (Бумага на втор)
     || objectOrParent(doc, 'd:d8cf8f89a0694bf9b462deb1bc6d09ab') // (Технологические химикаты)
     || objectOrParent(doc, 'd:f1bba7b333d14ea582942f7d1e1c97c5') // (Вспомогательные вещества)
     || objectOrParent(doc, 'd:61c11dd2137e4916a94eab49ac88565b') // (Крахмал)
     || objectOrParent(doc, 'd:d63df9806ea84691a4587f65cc73a65b') // (Наполнитель)
     || objectOrParent(doc, 'd:1b89d9d556804828818399207ddf1114') // (Пигменты покровные)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00069193_71025072")]; // Фаина Николаева : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:43e7ae6b17d34fcd9e58613be049df91') // (Вода)
     || objectOrParent(doc, 'd:e0de239b29c34ec3afaf25b0554893cb') // (Энергия)
     || objectOrParent(doc, 'd:dd56fab4a4f444cd925ee1c99c2fb8ac') // (Топливо)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00009317_71025075")]; // Ирина Константинова : Менеджер по закупке
   }
   if ( objectOrParent(doc, 'd:a6f80eb26bbb4ffcb56691ac5ba511da') // (Материал упаковочный)
     || objectOrParent(doc, 'd:b98840ca4b8f47c2b32a12cc01906208') // (Краски на водной основе)
     || objectOrParent(doc, 'd:89e8c38865c54b4eaffc5df506fca683') // (Краски на основе растворителей)
     || objectOrParent(doc, 'd:ed715abf1d80407588efa47ba3c75179') // (Краски УФ-отверждения)
     || objectOrParent(doc, 'd:be0101cddba94f7aaa060aaa058e8a4e') // (Материалы для печати)
     || objectOrParent(doc, 'd:dbf8b6d152f04d20bd1dcae8e163db51') // (Печатные химикаты (чистящие средства))
     || objectOrParent(doc, 'd:51abdbbe8ac94556b4e0455e2374a816') // (Полипропилен)
     || objectOrParent(doc, 'd:a8f18e17ce7647788e8b27e712c5ee39') // (Силиконы)
     || objectOrParent(doc, 'd:7230749746e943fdb610626e763742fb') // (Standard PE)
     || objectOrParent(doc, 'd:0ff1b5be8bd849f08ca2bf4ed53b7a16') // (Клеи, Адгезивы)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00069224_71024982")]; // Татьяна Румянцева : Руководитель гр.
   }
   if ( objectOrParent(doc, 'd:c7613d1b104d4ffa86a14ee795cdd792') // (Материалы горюче-смазочные)
     || objectOrParent(doc, 'd:987c0881a6464112b1a25c25b4b3b67e') // (Электрика, электроника)
     || objectOrParent(doc, 'd:e04858bc7da54cc9a6b7d44f8ce76731') // (Механика)
     || objectOrParent(doc, 'd:ca2c0746e181466da8999722c98d4c0f') // (Материалы строительные)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00069396_71022854")]; // Константин Филяев : Руководитель группы
   }
   if ( objectOrParent(doc, 'd:916b0a3222d144128b3bfc05a690ccd0') // (Расходные материалы)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00061450_71018045")]; // Сергей Валуев : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:6aa0a08ef0fc4aeca55e3f283dc2a9fd') // (Технические услуги)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00061636_71022863")]; // Татьяна Банина : Руководитель группы
   }
   if ( objectOrParent(doc, 'd:b3e9e60c3ecb4ca98ab31179d162815f') // (Косвенные расходы)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00066898_71024981")]; // Роман Мамаев : Руководитель группы
   }
   if ( objectOrParent(doc, 'd:0c350969f2b8449c93594ee767cb27ef') // (Транспорт)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00018845_71018024")]; // Ольга Пономарева : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:0c2031235b5248819f19dbd1cdebb307') // (CAPEX)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00068194_71023848")]; // Анна Тарасова : Руководитель группы
   }
   return [];
}


function algorithm2(doc) {
   if ( objectOrParent(doc, 'd:379cc929f78f4a4e84f36a9f3830d846')
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00064586_71020091")]; // Байлендер
   }
   if ( objectOrParent(doc, 'd:5af63e5bbeb54c4a86c2bc72fb4208a5') // (Целлюлоза)
     || objectOrParent(doc, 'd:3e77773be122494085d07da25fe20076') // (Бумага на втор)
     || objectOrParent(doc, 'd:d8cf8f89a0694bf9b462deb1bc6d09ab') // (Технологические химикаты)
     || objectOrParent(doc, 'd:f1bba7b333d14ea582942f7d1e1c97c5') // (Вспомогательные вещества)
     || objectOrParent(doc, 'd:61c11dd2137e4916a94eab49ac88565b') // (Крахмал)
     || objectOrParent(doc, 'd:d63df9806ea84691a4587f65cc73a65b') // (Наполнитель)
     || objectOrParent(doc, 'd:1b89d9d556804828818399207ddf1114') // (Пигменты покровные)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00069193_71025072")]; // Фаина Николаева : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:43e7ae6b17d34fcd9e58613be049df91') // (Вода)
     || objectOrParent(doc, 'd:e0de239b29c34ec3afaf25b0554893cb') // (Энергия)
     || objectOrParent(doc, 'd:dd56fab4a4f444cd925ee1c99c2fb8ac') // (Топливо)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00069193_71025072")]; // Фаина Николаева : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:a6f80eb26bbb4ffcb56691ac5ba511da') // (Материал упаковочный)
     || objectOrParent(doc, 'd:b98840ca4b8f47c2b32a12cc01906208') // (Краски на водной основе)
     || objectOrParent(doc, 'd:89e8c38865c54b4eaffc5df506fca683') // (Краски на основе растворителей)
     || objectOrParent(doc, 'd:ed715abf1d80407588efa47ba3c75179') // (Краски УФ-отверждения)
     || objectOrParent(doc, 'd:be0101cddba94f7aaa060aaa058e8a4e') // (Материалы для печати)
     || objectOrParent(doc, 'd:dbf8b6d152f04d20bd1dcae8e163db51') // (Печатные химикаты (чистящие средства))
     || objectOrParent(doc, 'd:51abdbbe8ac94556b4e0455e2374a816') // (Полипропилен)
     || objectOrParent(doc, 'd:a8f18e17ce7647788e8b27e712c5ee39') // (Силиконы)
     || objectOrParent(doc, 'd:7230749746e943fdb610626e763742fb') // (Standard PE)
     || objectOrParent(doc, 'd:0ff1b5be8bd849f08ca2bf4ed53b7a16') // (Клеи, Адгезивы)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00069224_71024982")]; // Татьяна Румянцева : Руководитель гр.
   }
   if ( objectOrParent(doc, 'd:c7613d1b104d4ffa86a14ee795cdd792') // (Материалы горюче-смазочные)
     || objectOrParent(doc, 'd:987c0881a6464112b1a25c25b4b3b67e') // (Электрика, электроника)
     || objectOrParent(doc, 'd:e04858bc7da54cc9a6b7d44f8ce76731') // (Механика)
     || objectOrParent(doc, 'd:ca2c0746e181466da8999722c98d4c0f') // (Материалы строительные)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00018845_71018024")]; // Ольга Пономарева : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:916b0a3222d144128b3bfc05a690ccd0') // (Расходные материалы)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00061450_71018045")]; // Сергей Валуев : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:6aa0a08ef0fc4aeca55e3f283dc2a9fd') // (Технические услуги)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00061450_71018045")]; // Сергей Валуев : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:b3e9e60c3ecb4ca98ab31179d162815f') // (Косвенные расходы)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00018845_71018024")]; // Ольга Пономарева : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:0c350969f2b8449c93594ee767cb27ef') // (Транспорт)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00018845_71018024")]; // Ольга Пономарева : Начальник отдела
   }
   if ( objectOrParent(doc, 'd:0c2031235b5248819f19dbd1cdebb307') // (CAPEX)
     ) {
     return [new veda.IndividualModel("d:mondi_appointment_00068194_71023848")]; // Анна Тарасова : Руководитель группы
   }
   return [];
}

if (doc['rdf:type'][0].id === "mnd-s:ContractRequest") {
  if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id == 'd:org_RU1121003135') {
    // Закупка
    if (
      doc.hasValue('v-s:hasBudgetCategory')
      && (
        doc['v-s:hasBudgetCategory'][0].id == 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' || // CAPEX
        doc['v-s:hasBudgetCategory'][0].id == 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' || // CAPEX SIB | Реконструкция, расширение, техперевооружение
        doc['v-s:hasBudgetCategory'][0].id == 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' || // CAPEX Spare part | Запасные части
        doc['v-s:hasBudgetCategory'][0].id == 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625' // CAPEX lease contract | Лизинг
      )
    ) {
      // CAPEX
      if (doc.hasValue('mnd-s:hasStrategyOfChoice') && doc['mnd-s:hasStrategyOfChoice'][0].id == 'd:a7a1e835a-b23b-8465-cecd-a261a31f78fe') {
        // Стратегия: Проведение конкурса (Тендер)
        routes['coordination1'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00068194_71023848")]; // Анна Тарасова : Руководитель группы
        routes['coordination1'][simple+'visible'] = [true];
        routes['coordination1'][simple+'editable'] = [true];
        routes['coordination1'][simple+'deadlineDays'] = [10];
        routes['coordination1'][simple+'comment'] = [new String('Согласовать список участников тендера')];
        routes['coordination2'][simple+'participant'] = [
          new veda.IndividualModel("d:mondi_appointment_00061450_71018045"), // Сергей Валуев : Начальник отдела
          new veda.IndividualModel("d:mondi_appointment_00061421_71020115"), // Юлия Рембе : Начальник управления
          new veda.IndividualModel("d:mondi_appointment_00068750_71017804"), // Владимир Дружков : Технический директор
          new veda.IndividualModel("d:mondi_appointment_00047788_71024461")]; // Алексей Мокрецов : Начальник отдела
        routes['coordination2'][simple+'visible'] = [true];
        routes['coordination2'][simple+'editable'] = [true];
        routes['coordination2'][simple+'deadlineDays'] = [10];
        routes['coordination2'][simple+'comment'] = [new String('Согласовать список участников тендера')];
        routes['coordination3'][simple+'participant'] = doc['v-s:creator']; // Заявитель
        routes['coordination3'][simple+'visible'] = [true];
        routes['coordination3'][simple+'editable'] = [true];
        routes['coordination3'][simple+'deadlineDays'] = [10];
        routes['coordination3'][simple+'comment'] = [new String('Разослать ТКП')];
        routes['review'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00068194_71023848")]; // Анна Тарасова : Руководитель группы
        routes['review'][simple+'visible'] = [true];
        routes['review'][simple+'editable'] = [true];
        routes['review'][simple+'deadlineDays'] = [10];
        routes['review'][simple+'comment'] = [new String('Рассмотреть заявку на контракт')];
      } else {
      // Стратегия: Безальтернативная основа

        var chief=doc["v-s:initiator"][0].getChief()
        routes['coordination1'][simple+'participant'] = [chief];
        routes['coordination1'][simple+'visible'] = [true];
        routes['coordination1'][simple+'editable'] = [true];
        routes['coordination1'][simple+'deadlineDays'] = [10];
        routes['coordination1'][simple+'comment'] = [new String('Согласовать заявку на контракт')];
        routes['coordination2'][simple+'participant'] = [
          new veda.IndividualModel("d:mondi_appointment_00068750_71017804"), // Владимир Дружков : Технический директор
          new veda.IndividualModel("d:mondi_appointment_00061421_71020115")]; // Юлия Рембе : Начальник управления
        routes['coordination2'][simple+'visible'] = [true];
        routes['coordination2'][simple+'editable'] = [true];
        routes['coordination2'][simple+'deadlineDays'] = [10];
        routes['coordination2'][simple+'comment'] = [new String('Согласовать возможность безальтернативной закупки')];
        routes['coordination3'][simple+'visible'] = [true];
        routes['coordination3'][simple+'editable'] = [true];
        routes['coordination3'][simple+'deadlineDays'] = [10];
        routes['coordination3'][simple+'comment'] = [new String('Согласовать заявку на контракт')];
        routes['review'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00068194_71023848")]; // Анна Тарасова : Руководитель группы
        routes['review'][simple+'visible'] = [true];
        routes['review'][simple+'editable'] = [true];
        routes['review'][simple+'deadlineDays'] = [10];
        routes['review'][simple+'comment'] = [new String('Рассмотреть заявку на контракт')];
      }
    } else if (
      doc.hasValue('v-s:hasBudgetCategory')
      && (
        doc['v-s:hasBudgetCategory'][0].id == 'd:a193b366b-aaeb-c1f2-b101-89c95b10a6c8' // OPEX
        || doc['v-s:hasBudgetCategory'][0].id == 'd:75707d6d68e04df5b77d9dcfc6fa7db4' // OPEX Предпроектная подготовка
        || doc['v-s:hasBudgetCategory'][0].id == 'd:8bf1002899a5496e901d50bd9f4b8ae5' // OPEX Демонтаж
      )
    ) {
      // OPEX
      if (doc.hasValue('v-s:responsibleDepartment')) {
        var dep = new veda.IndividualModel(doc['v-s:responsibleDepartment'][0].id);
        if (dep.hasValue('v-s:hasChief')) {
          routes['coordination1'][simple+'participant'] = dep["v-s:hasChief"]; // Руководитель отдела ответственного подразделения
          routes['coordination1'][simple+'comment'] = [new String('Согласовать необходимость контракта')];
        }
      }
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [true];
      routes['coordination1'][simple+'deadlineDays'] = [10];

      routes['coordination2'][simple+'visible'] = [true];
      routes['coordination2'][simple+'editable'] = [true];
      routes['coordination2'][simple+'deadlineDays'] = [10];
      routes['coordination2'][simple+'comment'] = [new String('Согласовать заявку на контракт')];

      routes['coordination3'][simple+'visible'] = [true];
      routes['coordination3'][simple+'editable'] = [true];
      routes['coordination3'][simple+'deadlineDays'] = [10];
      routes['coordination3'][simple+'comment'] = [new String('Согласовать заявку на контракт')];

      routes['review'][simple+'participant'] = algorithm1(doc); //АЛГО1
      routes['review'][simple+'visible'] = [true];
      routes['review'][simple+'editable'] = [true];
      routes['review'][simple+'deadlineDays'] = [10];
      routes['review'][simple+'comment'] = [new String('Рассмотреть заявку')];

      routes['examination'][simple+'participant'] = algorithm2(doc); //АЛГО2
      routes['examination'][simple+'visible'] = [true];
      routes['examination'][simple+'editable'] = [true];
      routes['examination'][simple+'deadlineDays'] = [10];
      routes['examination'][simple+'comment'] = [new String('Для информации')];

    }
  } else if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id == 'd:org_RU1121003135') {
    // Продажа
    // Исполнитель по договору, если в заявке есть ссылка на договор
    if ( doc.hasValue('v-s:hasContract') && doc['v-s:hasContract'][0].hasValue("mnd-s:executorSpecialistOfContract") ) {
      var contractExecutor = doc['v-s:hasContract'][0]["mnd-s:executorSpecialistOfContract"];
      routes['coordination1'][simple+'participant'] = contractExecutor;
    }
    // Руководитель отдела ответственного подразделения
    if (doc.hasValue('v-s:responsibleDepartment')) {
      var dep = new veda.IndividualModel(doc['v-s:responsibleDepartment'][0].id);
      if (dep.hasValue('v-s:hasChief')) {
        routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(dep["v-s:hasChief"]);
      }
    }
    routes['coordination1'][simple+'visible'] = [true];
    routes['coordination1'][simple+'editable'] = [true];
    routes['coordination1'][simple+'deadlineDays'] = [10];
    routes['coordination1'][simple+'comment'] = [new String('Согласовать заявку на контракт')];

    routes['coordination2'][simple+'visible'] = [true];
    routes['coordination2'][simple+'editable'] = [true];
    routes['coordination2'][simple+'deadlineDays'] = [10];
    routes['coordination2'][simple+'comment'] = [new String('Согласовать заявку на контракт')];

    routes['coordination3'][simple+'visible'] = [true];
    routes['coordination3'][simple+'editable'] = [true];
    routes['coordination3'][simple+'deadlineDays'] = [10];
    routes['coordination3'][simple+'comment'] = [new String('Согласовать заявку на контракт')];

    if (doc.hasValue('v-s:hasContractObject') &&
        (doc['v-s:hasContractObject'][0].id == 'd:e0de239b29c34ec3afaf25b0554893cb' || // Энергия
          (doc['v-s:hasContractObject'][0].hasValue('v-s:hasParentLink') && doc['v-s:hasContractObject'][0]['v-s:hasParentLink'][0].id == 'd:e0de239b29c34ec3afaf25b0554893cb'))) {
      routes['instruction'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00068274_71018042")]; // Владимир Басанко : Ведущий инженер
    } else if ((doc.hasValue('v-s:hasObligationKind') && doc['v-s:hasObligationKind'][0].id == 'd:1b0d368c502f4e4db36f0e6cf9513b16') // Аренда
               || (doc.hasValue('v-s:hasContractObject') && doc['v-s:hasContractObject'][0].hasValue('v-s:hasParentLink') &&  doc['v-s:hasContractObject'][0]['v-s:hasParentLink'][0].id == 'd:1b0d368c502f4e4db36f0e6cf9513b16' )) {
      routes['instruction'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00064646_71018047")]; // Евгений Ротанов : Ведущий инженер
    } else {
      routes['instruction'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00000931_71024418")]; // Ольга Трошина : Инженер
    }
    routes['instruction'][simple+'visible'] = [true];
    routes['instruction'][simple+'editable'] = [true];
    routes['instruction'][simple+'deadlineDays'] = [10];
    routes['instruction'][simple+'comment'] = [new String('Исполнить заявку')];

    routes['examination'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00057948_71018986")]; // Игорь Наумов : начальник отдела спец. Продаж
    routes['examination'][simple+'visible'] = [true];
    routes['examination'][simple+'editable'] = [true];
    routes['examination'][simple+'deadlineDays'] = [10];
    routes['examination'][simple+'comment'] = [new String('Для информации')];
  }
}
//--------------------------------------------------------------------------------------------------------------------------------Выбор поставщика
if (doc['rdf:type'][0].id === "mnd-s:TenderProcedure") {
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination3'][simple+'visible'] = [true];
  routes['coordination3'][simple+'editable'] = [true];
  routes['coordination4'][simple+'visible'] = [true];
  routes['coordination4'][simple+'editable'] = [true];
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
}
/*  if (doc['rdf:type'][0].id === "mnd-s:TenderProcedure") {
  if (doc.hasValue('v-s:backwardTarget') && doc['v-s:backwardTarget'][0].hasValue('v-s:customer') && doc['v-s:backwardTarget'][0]['v-s:customer'][0].if == "d:org_RU1121003135") {
    // Закупка
    if (doc['v-s:backwardTarget'][0].hasValue('v-s:hasBudgetCategory') && doc['v-s:backwardTarget'][0]['v-s:hasBudgetCategory'][0].id == "d:a193b366b-aaeb-c1f2-b101-89c95b10a6c8") {
      // OPEX
      if (doc['v-s:backwardTarget'][0].hasValue('mnd-s:hasStrategyOfChoice') && doc['v-s:backwardTarget'][0]['mnd-s:hasStrategyOfChoice'][0].id == "d:a7a1e835a-b23b-8465-cecd-a261a31f78fe") {
        // Тендер
        routes['coordination1'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00061421_71020115")]; // Юлия Рембе : Начальник управления
        routes['coordination1'][simple+'visible'] = [true];
        routes['coordination1'][simple+'editable'] = [true];
        routes['coordination1'][simple+'deadlineDays'] = [10];
        routes['coordination1'][simple+'comment'] = [new String('Согласовать список участников тендера')];

        if (doc['v-s:backwardTarget'][0].hasValue('mnd-s:hasStrategyOfChoice')  && doc['v-s:backwardTarget'][0]['mnd-s:hasStrategyOfChoice'][0].hasValue('v-s:sum')
            && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract'][0]['v-s:sum'][0] > 7000000) {
          // TODO: сделать неудаляемым
          routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00061421_71020115")]; // Юлия Рембе : Начальник управления
          routes['coordination2'][simple+'visible'] = [true];
          routes['coordination2'][simple+'editable'] = [true];
          routes['coordination2'][simple+'deadlineDays'] = [10];
          routes['coordination2'][simple+'comment'] = [new String('Согласовать список участников тендера у директора по направлению')];
        }

        if (veda.user && veda.user.hasValue('v-s:hasAppointment')) {
          routes['coordination3'][simple+'participant'] = veda.user['v-s:hasAppointment']; // Заявитель
          routes['coordination3'][simple+'visible'] = [true];
          routes['coordination3'][simple+'editable'] = [true];
          routes['coordination3'][simple+'deadlineDays'] = [10];
          routes['coordination3'][simple+'comment'] = [new String('Провести тендер')];
        }

        routes['coordination4'][simple+'participant'] = [];
        if (doc['v-s:backwardTarget'][0].hasValue('v-s:initiator')) {
          var dep = new veda.IndividualModel(doc['v-s:backwardTarget'][0]['v-s:initiator'][0].id);
          if (dep.hasValue('v-s:hasChief')) {
           routes['coordination4'][simple+'participant'] = routes['coordination4'][simple+'participant'].concat(dep["v-s:hasChief"]); // Руководитель отдела ответственного подразделения +
          }
        }
        if (doc['v-s:backwardTarget'][0].hasValue('v-s:hasSector') == 'd:45bb1de686d547098a58ca8b58a8dc5d') { // Механика
           routes['coordination4'][simple+'participant'] = routes['coordination4'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00048762_71013780")); // Андрей Скрябин - Главный механик
        }
        if (doc['v-s:backwardTarget'][0].hasValue('v-s:hasSector') == 'd:66f31c625dbd4b49afec313119d731f4') { // электрика
           routes['coordination4'][simple+'participant'] = routes['coordination4'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00044583_71012089")); // Андрей Шульгин - Главный электрик
        }
        if (doc['v-s:backwardTarget'][0].hasValue('v-s:hasSector') == 'd:ba1a7913d52e4a47967645767b6f2604') { // КИПиА
           routes['coordination4'][simple+'participant'] = routes['coordination4'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00025753_71000234")); // Юрий Исаев:гл. метролог
        }
        routes['coordination4'][simple+'visible'] = [true];
        routes['coordination4'][simple+'editable'] = [true];
        routes['coordination4'][simple+'deadlineDays'] = [10];
        routes['coordination4'][simple+'comment'] = [new String('Согласовать результаты тендера')];

        routes['coordination5'][simple+'participant'] = algorithm2(doc); //АЛГО2
        routes['coordination5'][simple+'visible'] = [true];
        routes['coordination5'][simple+'editable'] = [true];
        routes['coordination5'][simple+'deadlineDays'] = [10];
        routes['coordination5'][simple+'comment'] = [new String('Согласовать результаты тендера')];

        routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00061421_71020115")]; // Юлия Рембе : Начальник управления
        routes['sign'][simple+'visible'] = [true];
        routes['sign'][simple+'editable'] = [true];
        routes['sign'][simple+'deadlineDays'] = [10];
        routes['sign'][simple+'comment'] = [new String('СУтвердить результаты тендера')];

        if (doc['v-s:backwardTarget'][0].hasValue('mnd-s:expectedValueOfContract') && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract'][0].hasValue('v-s:sum')
            && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract']['v-s:sum'][0] > 7000000) {
          // TODO: сделать неудаляемым
          routes['approval'][simple+'visible'] = [true];
          routes['approval'][simple+'editable'] = [true];
          routes['approval'][simple+'deadlineDays'] = [10];
          routes['approval'][simple+'comment'] = [new String('Согласовать список участников тендера у директора по направлению')];
        }

        if (veda.user && veda.user.hasValue('v-s:hasAppointment')) {
          routes['instruction'][simple+'participant'] = veda.user['v-s:hasAppointment'];
          routes['instruction'][simple+'visible'] = [true];
          routes['instruction'][simple+'editable'] = [false];
          routes['instruction'][simple+'deadlineDays'] = [10];
          routes['instruction'][simple+'comment'] = [new String('Согласование завершено')];
        }

        routes['coordination4'][simple+'participant'] = [];
        if (doc['v-s:backwardTarget'][0].hasValue('v-s:initiator')) {
          var dep = new veda.IndividualModel(doc['v-s:backwardTarget'][0]['v-s:initiator'][0].id);
          if (dep.hasValue('v-s:hasChief')) {
            routes['examination'][simple+'participant'] = dep["v-s:hasChief"]; // Руководитель отдела ответственного подразделения +
            routes['examination'][simple+'participant'] = veda.user['v-s:hasAppointment'];
            routes['examination'][simple+'visible'] = [true];
            routes['examination'][simple+'editable'] = [false];
            routes['examination'][simple+'deadlineDays'] = [10];
            routes['examination'][simple+'comment'] = [new String('Ознакомиться с результатами тендера')];
          }
        }
      } else {
        // Не тендер
        routes['coordination1'][simple+'participant'] = [];
        if (doc['v-s:backwardTarget'][0].hasValue('v-s:hasSector') == 'd:45bb1de686d547098a58ca8b58a8dc5d') { // Механика
           routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00048762_71013780")); // Андрей Скрябин - Главный механик
        }
        if (doc['v-s:backwardTarget'][0].hasValue('v-s:hasSector') == 'd:66f31c625dbd4b49afec313119d731f4') { // электрика
           routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00044583_71012089")); // Андрей Шульгин - Главный электрик
        }
        if (doc['v-s:backwardTarget'][0].hasValue('v-s:hasSector') == 'd:ba1a7913d52e4a47967645767b6f2604') { // КИПиА
           routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00025753_71000234")); // Юрий Исаев:гл. метролог
        }
        if (doc['v-s:backwardTarget'][0].hasValue('mnd-s:expectedValueOfContract') && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract'][0].hasValue('v-s:sum')
          && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract']['v-s:sum'][0] > 700000) {
          if (doc['v-s:backwardTarget'][0].hasValue('v-s:initiator')) {
            var dep = new veda.IndividualModel(doc['v-s:backwardTarget'][0]['v-s:initiator'][0].id);
            if (dep.hasValue('v-s:hasChief')) {
              routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(dep["v-s:hasChief"]); // Руководитель отдела ответственного подразделения +
            }
          }
        }
        routes['coordination1'][simple+'visible'] = [true];
        routes['coordination1'][simple+'editable'] = [true];
        routes['coordination1'][simple+'deadlineDays'] = [10];
        routes['coordination1'][simple+'comment'] = [new String('Согласовать возможность безальтернативной закупки')];

        if (doc['v-s:backwardTarget'][0].hasValue('mnd-s:expectedValueOfContract') && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract'][0].hasValue('v-s:sum')
          && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract']['v-s:sum'][0] > 700000) {
          if (doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract']['v-s:sum'][0] < 7000000) {
            routes['coordination2'][simple+'participant'] = algorithm2(doc); //АЛГО2
          } else {
            routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00061421_71020115")]; // Юлия Рембе : Начальник управления
          }
        }
        routes['coordination2'][simple+'visible'] = [true];
        routes['coordination2'][simple+'editable'] = [true];
        routes['coordination2'][simple+'deadlineDays'] = [10];
        routes['coordination2'][simple+'comment'] = [new String('Согласовать возможность безальтернативной закупки')];

        if (doc['v-s:backwardTarget'][0].hasValue('mnd-s:expectedValueOfContract') && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract'][0].hasValue('v-s:sum')
          && doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract']['v-s:sum'][0] > 700000) {
          if (doc['v-s:backwardTarget'][0]['mnd-s:expectedValueOfContract']['v-s:sum'][0] < 7000000) {
            routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00061421_71020115")]; // Юлия Рембе : Начальник управления
          } else {
          routes['approval'][simple+'comment'] = [new String('Утвердить директором по направлению')];
          }
        }
        routes['approval'][simple+'visible'] = [true];
        routes['approval'][simple+'editable'] = [true];
        routes['approval'][simple+'deadlineDays'] = [10];
      }
    }
  }
}*/
//-----------------------------------------------------------------------------------------------------------------------------------------------------Контракт / Дополнительное соглашение
if (doc['rdf:type'][0].id === "mnd-s:Contract" || doc['rdf:type'][0].id === "mnd-s:AdditionalAgreement") {
  if ( doc["mnd-s:onExaminationForContract"][0] == false && doc["mnd-s:isReadyForOsExtradition"][0] == false ) {
    if ( doc.hasValue("mnd-s:hasCriterionOfSimplifiedCoordination") &&
        doc["mnd-s:hasCriterionOfSimplifiedCoordination"][0].id == "d:cdtmieltfglusb8ai0dhnqn6" )
    {
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [true];
      routes['coordination1'][simple+'deadlineDays'] = [10];
      routes['coordination2'][simple+'visible'] = [true];
      routes['coordination2'][simple+'editable'] = [true];
      routes['coordination2'][simple+'deadlineDays'] = [10];
      routes['coordination3'][simple+'visible'] = [true];
      routes['coordination3'][simple+'editable'] = [true];
      routes['coordination3'][simple+'deadlineDays'] = [10];
      routes['coordination4'][simple+'visible'] = [true];
      routes['coordination4'][simple+'editable'] = [true];
      routes['coordination4'][simple+'deadlineDays'] = [10];
      routes['coordination5'][simple+'visible'] = [true];
      routes['coordination5'][simple+'editable'] = [true];
      routes['coordination5'][simple+'deadlineDays'] = [10];
      routes['coordination6'][simple+'visible'] = [true];
      routes['coordination6'][simple+'editable'] = [true];
      routes['coordination6'][simple+'deadlineDays'] = [10];
      routes['sign'][simple+'visible'] = [true];
      routes['sign'][simple+'editable'] = [true];
      routes['sign'][simple+'deadlineDays'] = [10];
      routes['approval'][simple+'visible'] = [true];
      routes['approval'][simple+'editable'] = [true];
      routes['approval'][simple+'deadlineDays'] = [10];
      routes['review'][simple+'visible'] = [true];
      routes['review'][simple+'editable'] = [false];
      routes['review'][simple+'deadlineDays'] = [10];
      routes['review'][simple+'comment'] = [new String('Оформить подписанный контракт')];
      routes['review'][simple+'participant'] = routes['review'][simple+'participant'].concat(new veda.IndividualModel("d:61e1919e-2460-41ed-8692-042d2634542a")); // Регистратор документов СЛПК
      routes['examination'][simple+'visible'] = [true];
      routes['examination'][simple+'editable'] = [false];
      routes['examination'][simple+'deadlineDays'] = [10];
      routes['examination'][simple+'comment'] = [new String('Ознакомиться с документом для дальнейшей работы')];
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['mnd-s:executorSpecialistOfContract']); // Исполнитель по контракту
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['mnd-s:supportSpecialistOfContract']); // Специалист по сопровождению
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:47ba4b3a-da9a-412f-bd42-b11b0c847229')); // ПУ Регистратор контрактов
      if (
        doc.hasValue('mnd-s:hasContractDirection')
        && doc['mnd-s:hasContractDirection'][0].id === 'd:d4cf39d06aec4a9aafcd4663f7996125'
      ) {
        if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135') {
          routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:4ec5dead-aab6-4789-bdd1-94e036ae4a16')); // Специалист ОТО имп
        }
        if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id === 'd:org_RU1121003135') {
          routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:SYK-CCDG_position')); // Специалист ОТО эксп
        }
      }
      if (
        doc.hasValue('v-s:hasBudgetCategory')
        && (
          doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
        )
      ) {
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:ff670646-d509-4ff9-92f2-482c255441e8')); // Спец ОУП
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:554f8555-af9a-436d-ada9-09458614e878')); // Спец по ИЗ
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71021843')); // Нач УриР
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71024461')); // Нач ОКС УриР
      }

    } else {
  // ОЗНАКОМЛЕНИЕ
    routes['introduction'][simple+'visible'] = [true];
    routes['introduction'][simple+'editable'] = [true];
    if (
      doc.hasValue('v-s:hasBudgetCategory')
      && (
        doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
      )
    ) {
      routes['introduction'][simple+'participant'] = routes['introduction'][simple+'participant'].concat(new veda.IndividualModel('d:ff670646-d509-4ff9-92f2-482c255441e8')); // Спец ОУП
    }
  // СОГЛАСОВАНИЕ 1

    routes['coordination1'][simple+'visible'] = [true];
    routes['coordination1'][simple+'editable'] = [true];
    routes['coordination1'][simple+'deadlineDays'] = [10];
    if (doc.hasValue('mnd-s:supportSpecialistOfContract') && doc['mnd-s:supportSpecialistOfContract']) {
      routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(doc['mnd-s:supportSpecialistOfContract']); // Исполнитель по контракту
    }
    if (
      doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id == 'd:org_RU1121003135'
      && doc.hasValue('v-s:hasBudgetCategory')
      && (
        doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
      )
    ) {
      routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71023848")); // Руководитель гр CAPEX ОТЗ
    } else {
      if (doc.hasValue('v-s:responsibleDepartment')) {
        var dep = doc['v-s:responsibleDepartment'][0];
        if (dep.hasValue('v-s:hasChief')) {
          routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(dep["v-s:hasChief"]); // Руководитель ответственного подразделения
        }
      }
      if (doc.hasValue('v-s:initiator')) {
        var dep = doc['v-s:initiator'][0];
        if (dep.hasValue('v-s:hasChief')) {
          routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(dep["v-s:hasChief"]); // Руководитель подразделения заказчика
        }
      }
    }

  // СОГЛАСОВАНИЕ 2

    routes['coordination2'][simple+'visible'] = [true];
    routes['coordination2'][simple+'editable'] = [true];
    routes['coordination2'][simple+'deadlineDays'] = [10];
    if (
      doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135'
      && doc.hasValue('v-s:hasBudgetCategory')
      && (
        doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
      )
    ) {
      if (doc.hasValue('mnd-s:hasContractRequest')) {
        var cr = new veda.IndividualModel(doc['mnd-s:hasContractRequest'][0].id);
        if (cr.hasValue('v-s:author')) {
          routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(cr["v-s:author"]); // Автор заявки на контракт
        }
      }
      if (doc.hasValue('mnd-s:hasRequestContractDetail') && doc['mnd-s:hasRequestContractDetail'][0].hasValue('v-s:hasSector')) {
        var i = 0;
        do {
          if (doc['mnd-s:hasRequestContractDetail'][0]['v-s:hasSector'][i].id == 'd:45bb1de686d547098a58ca8b58a8dc5d') { // Механика
            routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71013780")); // Андрей Скрябин - Главный механик
          }
          if (doc['mnd-s:hasRequestContractDetail'][0]['v-s:hasSector'][i].id == 'd:66f31c625dbd4b49afec313119d731f4') { // электрика
            routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71012089")); // Андрей Шульгин - Главный электрик
          }
          if (doc['mnd-s:hasRequestContractDetail'][0]['v-s:hasSector'][i].id == 'd:ba1a7913d52e4a47967645767b6f2604') { // КИПиА
            routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71000234")); // Юрий Исаев:гл. метролог
          }
          i++;
        } while (doc['mnd-s:hasRequestContractDetail'][0]['v-s:hasSector'][i])
      }
    }
    if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id == 'd:org_RU1121003135') {
      if (doc.hasValue('v-s:initiator') && (new veda.IndividualModel(doc['v-s:initiator'][0].id)).isSubUnitOf("d:mondi_department_50003202")) {
        routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71020138")); // Гл инженер УЛО (Навратил С)
        routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71025127")); // Зам директора УЛО (Кухоткин)
      }
    }
    if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id == 'd:org_RU1121003135' && !doc.hasValue('v-s:supplierContractor') && !doc.hasValue('v-s:supplier')) {
      routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71017956")); // Нач УПБ
    }

  // СОГЛАСОВАНИЕ 3

    routes['coordination3'][simple+'visible'] = [true];
    routes['coordination3'][simple+'editable'] = [true];
    routes['coordination3'][simple+'deadlineDays'] = [10];
    if (
      doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135'
      && doc.hasValue('v-s:hasBudgetCategory')
      && (
        doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
      )
      && doc.hasValue('mnd-s:hasContractDirection')
      && doc['mnd-s:hasContractDirection'][0].id === 'd:d4cf39d06aec4a9aafcd4663f7996125'
    ) {
      routes['coordination3'][simple+'participant'] = routes['coordination3'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71005342")); // Нач ОТО
      routes['coordination3'][simple+'participant'] = routes['coordination3'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014233")); // Нач Казнач отд
    }
    if ( !doc.hasValue('mnd-s:hasCriterionOfSimplifiedCoordination') ) {
      routes['coordination3'][simple+'participant'] = routes['coordination3'][simple+'participant'].concat(new veda.IndividualModel("d:351a59f7-0f25-4f66-8f24-201d1ff95237")); // ПУ. Согласование контрактов
      routes['coordination3'][simple+'participant'] = routes['coordination3'][simple+'participant'].concat(new veda.IndividualModel("d:3bcad243-5d01-4eba-b62b-1fe233ea2cfa")); // Бух. Согласование контрактов
    }

  // СОГЛАСОВАНИЕ 4

    routes['coordination4'][simple+'visible'] = [true];
    routes['coordination4'][simple+'editable'] = [true];
    routes['coordination4'][simple+'deadlineDays'] = [10];
    if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135') {
      if (
        doc.hasValue('v-s:hasBudgetCategory')
        && (
          doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
        )
      ) {
        if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] > 7000000) {
          routes['coordination4'][simple+'participant'] = routes['coordination4'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71018045")); // Нач ОТЗ
        }
      }
    }
    if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id === 'd:org_RU1121003135') {
      if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] > 7000000) {
        routes['coordination4'][simple+'participant'] = routes['coordination4'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71018986")); // Нач ОСП
      }
    }

  // СОГЛАСОВАНИЕ 5

    routes['coordination5'][simple+'visible'] = [true];
    routes['coordination5'][simple+'editable'] = [true];
    routes['coordination5'][simple+'deadlineDays'] = [10];
    if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135') {
      if (
        doc.hasValue('v-s:hasBudgetCategory')
        && (
          doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
        )
      ) {
        if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] <= 7000000) {
          routes['coordination5'][simple+'participant'] = routes['coordination5'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71021843")); // Нач УриР
        }
      }
    }

  // СОГЛАСОВАНИЕ 6

    routes['coordination6'][simple+'visible'] = [true];
    routes['coordination6'][simple+'editable'] = [true];
    routes['coordination6'][simple+'deadlineDays'] = [10];
    routes['coordination6'][simple+'participant'] = doc['mnd-s:executorSpecialistOfContract']; // Исполнитель
    routes['coordination6'][simple+'comment'] = [new String('Согласовать с Контрагентом текcт Контракта и подготовить документы к подписанию')];

  // ПОДПИСАНИЕ

    routes['sign'][simple+'visible'] = [true];
    routes['sign'][simple+'editable'] = [true];
    routes['sign'][simple+'deadlineDays'] = [10];
    if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135') {
      if (doc.hasValue('v-s:initiator') && (new veda.IndividualModel(doc['v-s:initiator'][0].id)).isSubUnitOf("d:mondi_department_50001781")) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71017804")); // Технический директор
      }
      if (doc.hasValue('v-s:initiator') && (new veda.IndividualModel(doc['v-s:initiator'][0].id)).isSubUnitOf("d:mondi_department_50001780")) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71015289")); // Финансовый директор
      }
      if (doc.hasValue('v-s:initiator') && (new veda.IndividualModel(doc['v-s:initiator'][0].id)).isSubUnitOf("d:mondi_department_50003102")) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71018870")); // Директор по производству
      }
      if (doc.hasValue('v-s:initiator') && (new veda.IndividualModel(doc['v-s:initiator'][0].id)).isSubUnitOf("d:mondi_department_50003202")) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71017819")); // Директор по ЛО
      }
      if (doc.hasValue('v-s:initiator') && (new veda.IndividualModel(doc['v-s:initiator'][0].id)).isSubUnitOf("d:mondi_department_50002528")) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71019086")); // Директор по перс
      }
      if (doc.hasValue('mnd-s:hasCriterionOfContractApprovalNecessity')) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:21cb0985-e473-455c-b173-f61a208ebaf4")); // Холдинг
      }
    }
    if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id === 'd:org_RU1121003135') {
      if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] > 700000) {
          routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_70006692")); // Гл Бухгалтер
      }
    }
    if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135') {
      if (
        doc.hasValue('v-s:hasBudgetCategory')
        && (
          doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
        )
      ) {
        if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] <= 7000000) {
          routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71018045")); // Нач ОТЗ
        }
        if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] > 700000) {
          routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71020115")); // Нач УЗ
        }
      } else {
        if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] <= 700000) {
          if (doc.hasValue('v-s:hasContractScope') && doc['v-s:hasContractScope'][0].id === 'd:f1ef19aec63145dcbc9cac8087682efd') {
            if (doc.hasValue('v-s:responsibleDepartment')) {
              var dep = new veda.IndividualModel(doc['v-s:responsibleDepartment'][0].id);
              if (dep.hasValue('v-s:hasChief')) {
                routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(dep["v-s:hasChief"]); // Руководитель отдела ответственного подразделения +
              }
            }
            routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71020115")); // Нач УЗ
          }
          if (doc.hasValue('v-s:hasContractObject') && doc['v-s:hasContractObject'][0].id === 'd:190e002c6beb4c62bfd877df4a151334') {
            routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71009274")); // Руководитель ЛПО
            routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71020115")); // Нач УЗ
          }
        }
      }
    }
    if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id === 'd:org_RU1121003135') {
      if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] <= 7000000) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71018986")); // Нач ОСП
      }
      if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] <= 700000) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_70006692")); // Гл Бухгалтер
      }
      if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] > 700000) {
        routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71015289")); // Финансовый директор
      }
    }
    if (doc.hasValue('v-s:hasPrice') && doc['v-s:hasPrice'][0].hasValue('v-s:sum') && doc['v-s:hasPrice'][0]['v-s:sum'][0] > 7000000) {
      routes['sign'][simple+'participant'] = routes['sign'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_70013758")); // Генеральный директор
    }

  // УТВЕРЖДЕНИЕ

    routes['approval'][simple+'visible'] = [true];
    routes['approval'][simple+'editable'] = [true];
    routes['approval'][simple+'deadlineDays'] = [10];
    routes['approval'][simple+'comment'] = [new String('Подписать у контрагента')];
    routes['approval'][simple+'participant'] = routes['approval'][simple+'participant'].concat(doc['mnd-s:executorSpecialistOfContract']); // Исполнитель по контракту

  // РАССМОТРЕНИЕ

    routes['review'][simple+'visible'] = [true];
    routes['review'][simple+'editable'] = [false];
    routes['review'][simple+'deadlineDays'] = [10];
    routes['review'][simple+'comment'] = [new String('Оформить подписанный контракт')];
    routes['review'][simple+'participant'] = routes['review'][simple+'participant'].concat(new veda.IndividualModel("d:61e1919e-2460-41ed-8692-042d2634542a")); // Регистратор документов СЛПК

  // ОЗНАКОМЛЕНИЕ

    routes['examination'][simple+'visible'] = [true];
    routes['examination'][simple+'editable'] = [false];
    routes['examination'][simple+'deadlineDays'] = [10];
    routes['examination'][simple+'comment'] = [new String('Ознакомиться с документом для дальнейшей работы')];
    routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['mnd-s:executorSpecialistOfContract']); // Исполнитель по контракту
    routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['mnd-s:supportSpecialistOfContract']); // Специалист по сопровождению
    routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:47ba4b3a-da9a-412f-bd42-b11b0c847229')); // ПУ Регистратор контрактов
    if (
      doc.hasValue('mnd-s:hasContractDirection')
      && doc['mnd-s:hasContractDirection'][0].id === 'd:d4cf39d06aec4a9aafcd4663f7996125'
    ) {
      if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135') {
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:4ec5dead-aab6-4789-bdd1-94e036ae4a16')); // Специалист ОТО имп
      }
      if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id === 'd:org_RU1121003135') {
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:SYK-CCDG_position')); // Специалист ОТО эксп
      }
    }
    if (
      doc.hasValue('v-s:hasBudgetCategory')
      && (
        doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
        doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
      )
    ) {
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:ff670646-d509-4ff9-92f2-482c255441e8')); // Спец ОУП
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:554f8555-af9a-436d-ada9-09458614e878')); // Спец по ИЗ
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71021843')); // Нач УриР
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71024461')); // Нач ОКС УриР
    }
    if (
      doc.hasValue('v-s:supplier')
      && doc['v-s:supplier'][0].hasValue('v-s:hasContractorProfile')
      && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0].hasValue('mnd-s:hasContractorCategoryRequest')
      && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'].length === 1
      && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'][0].hasValue('mnd-s:hasContractorInteractionCategory')
      && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'][0]['mnd-s:hasContractorInteractionCategory'][0].id === 'd:3dcd8dd19b8f4ab193ea2d8f469771cb'
    ) {
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:3faff975-440f-4499-98c5-eb5eaf4fb04a')); // Специалист по ведению кредиторов
    }
  }
}
//----------------------------------------------------------------------------------Выдача ОС для контрактов и Допов
if (doc['rdf:type'][0].id === "mnd-s:Contract" || doc['rdf:type'][0].id === "mnd-s:AdditionalAgreement"){
  if (doc["mnd-s:isReadyForOsExtradition"][0] == true){
    if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id === 'd:org_RU1121003135'){
      //Согласование - начальник СЭБ
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [true];
      routes['coordination1'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71021621")]; // начальник СЭБ
      routes['coordination2'][simple+'visible'] = [false];
      routes['coordination2'][simple+'editable'] = [false];
      routes['coordination2'][simple+'participant'] = [];
      routes['coordination3'][simple+'visible'] = [false];
      routes['coordination3'][simple+'editable'] = [false];
      routes['coordination3'][simple+'participant'] = [];
      routes['coordination4'][simple+'visible'] = [false];
      routes['coordination4'][simple+'editable'] = [false];
      routes['coordination4'][simple+'participant'] = [];
      routes['coordination5'][simple+'visible'] = [false];
      routes['coordination5'][simple+'editable'] = [false];
      routes['coordination5'][simple+'participant'] = [];
      routes['coordination6'][simple+'visible'] = [false];
      routes['coordination6'][simple+'editable'] = [false];
      routes['coordination6'][simple+'participant'] = [];
      routes['sign'][simple+'visible'] = [false];
      routes['sign'][simple+'editable'] = [false];
      routes['sign'][simple+'participant'] = [];
      routes['approval'][simple+'visible'] = [false];
      routes['approval'][simple+'editable'] = [false];
      routes['approval'][simple+'participant'] = [];
      routes['review'][simple+'visible'] = [false];
      routes['review'][simple+'editable'] = [false];
      routes['review'][simple+'participant'] = [];
      //Поручение "Подготовить документы и передать балансодержателю"
      routes['instruction'][simple+'visible'] = [true];
      routes['instruction'][simple+'editable'] = [true];
      routes['instruction'][simple+'comment'] = [new String('Подготовить документы и передать балансодержателю')];
      if (
        doc.hasValue('v-s:hasContractObject') && (doc['v-s:hasContractObject'][0].id === 'd:0c350969f2b8449c93594ee767cb27ef') //Транспорт
      ) {
        routes['instruction'][simple+'participant'] = routes['instruction'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71020169')); // Начальник отдела. Технический отдел УГИ
      }
      if (
        doc.hasValue('v-s:hasContractObject') && (doc['v-s:hasContractObject'][0].id === 'd:hu9k3dm2635jg0w46ehtahyk') //Недвижимое имущество
      ) {
        routes['instruction'][simple+'participant'] = routes['instruction'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71024462')); // Начальник отдела. Отдел управления проектами УР и Р
      }
      //Поручение2 - балансодержатель ОС, то есть hasChief у поля v-s:initiator
      routes['instruction2'][simple+'visible'] = [true];
      routes['instruction2'][simple+'editable'] = [true];
      routes['instruction2'][simple+'comment'] = [new String('Выдать ОС покупателю')];
      if (doc.hasValue('v-s:initiator')) {
      var dep = new veda.IndividualModel(doc['v-s:initiator'][0].id);
        if (dep.hasValue('v-s:hasChief')) {
          routes['instruction2'][simple+'participant'] = dep["v-s:hasChief"];
        }
      }
      //Ознакомление - Роль Бухгалтер ОС
      routes['examination'][simple+'visible'] = [true];
      routes['examination'][simple+'editable'] = [true];
      routes['examination'][simple+'participant'] = [new veda.IndividualModel("d:2ee64753-2e4c-4e33-8a30-b14d1ab45854")]; // Бухгалтер ОС
    }
  }
}

/*
  if (doc.hasValue('v-s:hasDocumentKind') && doc['v-s:hasDocumentKind'][0].id == 'd:fecef6b8058549cfb0203b55bd2425de') {
    // Заказ Спецификация. Разовая закупка

    routes['sign'][simple+'participant'] = doc['mnd-s:executorSpecialistOfContract']; // Исполнитель по контракту
    routes['sign'][simple+'visible'] = [true];
    routes['sign'][simple+'editable'] = [true];
    routes['sign'][simple+'deadlineDays'] = [10];

    routes['approval'][simple+'participant'] = doc['mnd-s:executorSpecialistOfContract']; // Исполнитель по контракту
    routes['approval'][simple+'visible'] = [true];
    routes['approval'][simple+'editable'] = [true];
    routes['approval'][simple+'deadlineDays'] = [10];
    routes['approval'][simple+'comment'] = [new String('Подписать у контрагента')];

    routes['review'][simple+'participant'] = [new veda.IndividualModel("d:61e1919e-2460-41ed-8692-042d2634542a")]; // Регистратор документов СЛПК
    routes['review'][simple+'visible'] = [true];
    routes['review'][simple+'editable'] = [false];
    routes['review'][simple+'deadlineDays'] = [10];
    routes['review'][simple+'comment'] = [new String('Оформить подписанный контракт')];
  }
  if (doc.hasValue('v-s:hasDocumentKind') && doc['v-s:hasDocumentKind'][0].id == 'd:cc87e0778a864272b1b8d366f591da88') {
    // Контракт
    if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id == 'd:org_RU1121003135') {
      // Контракт о закупке
      if (doc.hasValue('v-s:hasBudgetCategory') && (
        doc['v-s:hasBudgetCategory'][0].id == 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
        doc['v-s:hasBudgetCategory'][0].id == 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
        doc['v-s:hasBudgetCategory'][0].id == 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
        doc['v-s:hasBudgetCategory'][0].id == 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625')) {
        // CAPEX
        routes['informing'][simple+'participant'] = [new veda.IndividualModel("d:ff670646-d509-4ff9-92f2-482c255441e8")]; // Специалист ОУП

        routes['coordination1'][simple+'participant'] = doc['mnd-s:executorSpecialistOfContract']; // Исполнитель
        if (doc.hasValue('v-s:responsibleDepartment')) {
          var dep = new veda.IndividualModel(doc['v-s:responsibleDepartment'][0].id);
          if (dep.hasValue('v-s:hasChief')) {
          routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(dep["v-s:hasChief"]); // Руководитель отдела ответственного подразделения +
          }
        }
        routes['coordination1'][simple+'visible'] = [true];
        routes['coordination1'][simple+'editable'] = [false];
        routes['coordination1'][simple+'deadlineDays'] = [10];

        // TODO добавить людей
        routes['coordination2'][simple+'visible'] = [true];
        routes['coordination2'][simple+'editable'] = [true];
        routes['coordination2'][simple+'deadlineDays'] = [10];

        routes['coordination3'][simple+'participant'] = [
          new veda.IndividualModel("d:3bcad243-5d01-4eba-b62b-1fe233ea2cfa"), // Главный бухгалтер
          new veda.IndividualModel("d:351a59f7-0f25-4f66-8f24-201d1ff95237")]; // Юрисконсульт
        routes['coordination3'][simple+'visible'] = [true];
        routes['coordination3'][simple+'deadlineDays'] = [10];
        if (!doc.hasValue('mnd-s:hasCriterionOfSimplifiedCoordination')) {
          // Упрощенное согласование
          routes['coordination3'][simple+'editable'] = [true];
        } else {
          routes['coordination3'][simple+'editable'] = [false];
        }

        routes['coordination4'][simple+'participant'] = doc['mnd-s:executorSpecialistOfContract']; // Исполнитель
        routes['coordination4'][simple+'visible'] = [true];
        routes['coordination4'][simple+'editable'] = [true];
        routes['coordination4'][simple+'deadlineDays'] = [2];
        routes['coordination4'][simple+'comment'] = [new String('Согласовать с Контрагентом текcт Контракта и подготовить документы к подписанию')];

        routes['sign'][simple+'visible'] = [true];
        routes['sign'][simple+'editable'] = [true];
        routes['sign'][simple+'deadlineDays'] = [10];

        routes['approval'][simple+'participant'] = doc['mnd-s:executorSpecialistOfContract']; // Исполнитель
        routes['approval'][simple+'visible'] = [true];
        routes['approval'][simple+'editable'] = [false];
        routes['approval'][simple+'deadlineDays'] = [10];
        routes['approval'][simple+'comment'] = [new String('Поставить отметку о подписании контрагентом')];

        routes['review'][simple+'participant'] = [new veda.IndividualModel("d:61e1919e-2460-41ed-8692-042d2634542a")]; // Регистратор документов СЛПК
        routes['review'][simple+'visible'] = [true];
        routes['review'][simple+'editable'] = [false];
        routes['review'][simple+'deadlineDays'] = [10];
        routes['review'][simple+'comment'] = [new String('Оформить подписанный контракт')];

        if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].hasValue('v-s:hasContractorProfile') && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0].hasValue('mnd-s:hasContractorCategoryRequest')
          && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'].length == 1
          && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'][0].hasValue('mnd-s:hasContractorInteractionCategory')
          && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'][0]['mnd-s:hasContractorInteractionCategory'][0].id == 'd:3dcd8dd19b8f4ab193ea2d8f469771cb') {
            routes['examination'][simple+'participant'] = [new veda.IndividualModel("d:3faff975-440f-4499-98c5-eb5eaf4fb04a")]; // Специалист по ведению кредиторов
            routes['examination'][simple+'visible'] = [true];
            routes['examination'][simple+'editable'] = [false];
            routes['examination'][simple+'deadlineDays'] = [10];
        }
      }
    }
    if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id == 'd:org_RU1121003135') {
      // Контракт о продаже
        routes['coordination1'][simple+'visible'] = [true];
        routes['coordination1'][simple+'editable'] = [true];
        routes['coordination1'][simple+'deadlineDays'] = [10];

        routes['coordination2'][simple+'visible'] = [true];
        routes['coordination2'][simple+'editable'] = [true];
        routes['coordination2'][simple+'deadlineDays'] = [10];

        routes['coordination3'][simple+'visible'] = [true];
        routes['coordination3'][simple+'editable'] = [true];
        routes['coordination3'][simple+'deadlineDays'] = [10];

        routes['coordination4'][simple+'participant'] = [
          new veda.IndividualModel("d:3bcad243-5d01-4eba-b62b-1fe233ea2cfa"), // Главный бухгалтер
          new veda.IndividualModel("d:351a59f7-0f25-4f66-8f24-201d1ff95237")]; // Юрисконсульт
        routes['coordination4'][simple+'visible'] = [true];
        routes['coordination4'][simple+'editable'] = [true];
        routes['coordination4'][simple+'deadlineDays'] = [10];

        routes['approval'][simple+'participant'] = doc['mnd-s:executorSpecialistOfContract']; // Исполнитель
        routes['approval'][simple+'visible'] = [true];
        routes['approval'][simple+'editable'] = [false];
        routes['approval'][simple+'deadlineDays'] = [10];
        routes['approval'][simple+'comment'] = [new String('Поставить отметку о подписании контрагентом')];

        routes['review'][simple+'participant'] = doc['mnd-s:executorSpecialistOfContract']; // Исполнитель
        routes['review'][simple+'visible'] = [true];
        routes['review'][simple+'editable'] = [false];
        routes['review'][simple+'deadlineDays'] = [10];
        routes['review'][simple+'comment'] = [new String('Оформить подписанный контракт')];

    }
  }
*/
}

//----------------------------------------------------------------------------------На ознакомление для контрактов и Допов

if (doc['rdf:type'][0].id === "mnd-s:Contract" || doc['rdf:type'][0].id === "mnd-s:AdditionalAgreement"){
  if (doc["mnd-s:onExaminationForContract"][0] == true){
    var temp=$("div.row>div.ui-sortable:not([style*='display:none'])");
    console.log(doc);
    console.log(temp);
    if (doc.hasValue("mnd-s:hasCriterionOfSimplifiedCoordination") && doc["mnd-s:hasCriterionOfSimplifiedCoordination"][0].id == "d:cdtmieltfglusb8ai0dhnqn6")
    {
      routes['examination'][simple+'visible'] = [true];
      routes['examination'][simple+'editable'] = [false];
      routes['examination'][simple+'deadlineDays'] = [10];
      routes['examination'][simple+'comment'] = [new String('Ознакомиться с документом для дальнейшей работы')];
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['mnd-s:executorSpecialistOfContract']); // Исполнитель по контракту
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['mnd-s:supportSpecialistOfContract']); // Специалист по сопровождению
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:47ba4b3a-da9a-412f-bd42-b11b0c847229')); // ПУ Регистратор контрактов
      if (
        doc.hasValue('mnd-s:hasContractDirection')
        && doc['mnd-s:hasContractDirection'][0].id === 'd:d4cf39d06aec4a9aafcd4663f7996125'
      ) {
        if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135') {
          routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:4ec5dead-aab6-4789-bdd1-94e036ae4a16')); // Специалист ОТО имп
        }
        if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id === 'd:org_RU1121003135') {
          routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:SYK-CCDG_position')); // Специалист ОТО эксп
        }
      }
      if (
        doc.hasValue('v-s:hasBudgetCategory')
        && (
          doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
        )
      ) {
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:ff670646-d509-4ff9-92f2-482c255441e8')); // Спец ОУП
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:554f8555-af9a-436d-ada9-09458614e878')); // Спец по ИЗ
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71021843')); // Нач УриР
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71024461')); // Нач ОКС УриР
      }
    } else {
      // ОЗНАКОМЛЕНИЕ
      routes['examination'][simple+'visible'] = [true];
      routes['examination'][simple+'editable'] = [false];
      routes['examination'][simple+'deadlineDays'] = [10];
      routes['examination'][simple+'comment'] = [new String('Ознакомиться с документом для дальнейшей работы')];
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['mnd-s:executorSpecialistOfContract']); // Исполнитель по контракту
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['mnd-s:supportSpecialistOfContract']); // Специалист по сопровождению
      routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:47ba4b3a-da9a-412f-bd42-b11b0c847229')); // ПУ Регистратор контрактов
      if (
        doc.hasValue('mnd-s:hasContractDirection')
        && doc['mnd-s:hasContractDirection'][0].id === 'd:d4cf39d06aec4a9aafcd4663f7996125'
      ) {
        if (doc.hasValue('v-s:customer') && doc['v-s:customer'][0].id === 'd:org_RU1121003135') {
          routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:4ec5dead-aab6-4789-bdd1-94e036ae4a16')); // Специалист ОТО имп
        }
        if (doc.hasValue('v-s:supplier') && doc['v-s:supplier'][0].id === 'd:org_RU1121003135') {
          routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:SYK-CCDG_position')); // Специалист ОТО эксп
        }
      }
      if (
        doc.hasValue('v-s:hasBudgetCategory')
        && (
          doc['v-s:hasBudgetCategory'][0].id === 'd:add478ffd-4996-ca11-8d8c-51bf810357c7' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a486cc102-8ec8-3f09-b326-6fabeec30882' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a0bfac3cc-ecf3-7847-59b2-5793ebd73879' ||
          doc['v-s:hasBudgetCategory'][0].id === 'd:a58764c7b-9730-2baa-68a4-da7b9fa36625'
        )
      ) {
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:ff670646-d509-4ff9-92f2-482c255441e8')); // Спец ОУП
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:554f8555-af9a-436d-ada9-09458614e878')); // Спец по ИЗ
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71021843')); // Нач УриР
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:mondi_position_71024461')); // Нач ОКС УриР
      }
      if (
        doc.hasValue('v-s:supplier')
        && doc['v-s:supplier'][0].hasValue('v-s:hasContractorProfile')
        && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0].hasValue('mnd-s:hasContractorCategoryRequest')
        && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'].length === 1
        && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'][0].hasValue('mnd-s:hasContractorInteractionCategory')
        && doc['v-s:supplier'][0]['v-s:hasContractorProfile'][0]['mnd-s:hasContractorCategoryRequest'][0]['mnd-s:hasContractorInteractionCategory'][0].id === 'd:3dcd8dd19b8f4ab193ea2d8f469771cb'
      ) {
        routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel('d:3faff975-440f-4499-98c5-eb5eaf4fb04a')); // Специалист по ведению кредиторов
      }
    }
  }
}
//------------------------------------------------------------------------Первичный документ
if (doc['rdf:type'][0].id === "mnd-s:AccountingDoc") {

  var approvers = [];
  var signers = [];
  var reviewers = [];
  var examiners = [];

  var supporter = []; // Специалист по сопровождению контракта
  if ( doc.hasValue("v-s:hasContract") && doc["v-s:hasContract"][0].hasValue("mnd-s:supportSpecialistOfContract") ) {
    supporter = doc["v-s:hasContract"][0]["mnd-s:supportSpecialistOfContract"];
  } else if ( doc.hasValue("mnd-s:hasPurchaseOrder") && doc["mnd-s:hasPurchaseOrder"][0].hasValue("v-s:hasContract") && doc["mnd-s:hasPurchaseOrder"][0]["v-s:hasContract"][0].hasValue("mnd-s:supportSpecialistOfContract") ) {
    supporter = doc["mnd-s:hasPurchaseOrder"][0]["v-s:hasContract"][0]["mnd-s:supportSpecialistOfContract"];
  }

  var orderCreator = []; // Создатель заказа
  if ( doc.hasValue("mnd-s:hasPurchaseOrder") && doc["mnd-s:hasPurchaseOrder"][0].hasValue("v-s:creator") && !doc["mnd-s:hasPurchaseOrder"][0].hasValue("v-s:creator", "d:SYK-PORTALMS_appointment") ) {
    orderCreator = doc["mnd-s:hasPurchaseOrder"][0]["v-s:creator"];
  }

  if (
    doc.hasValue("v-s:hasDocumentKind", "d:77d4cbd58cf34321a82e7281e8347542") // Декларация на товары
    || doc.hasValue("v-s:hasDocumentKind", "d:c26c0ae5290a4c119561aacc2b01f04d") // Корректировка декларации на товары
  ) {
    approvers = approvers.concat(supporter); // Специалист по сопровождению контракта
  } else {
    examiners = examiners.concat(supporter); // Специалист по сопровождению контракта
  }

  if (
    doc.hasValue("v-s:hasDocumentKind", "d:8737ebad40db4fafbf1cd5929f580c3a") // Акт о приемке выполненных работ имп.
    || doc.hasValue("v-s:hasDocumentKind", "d:029549e0607c412097e47e47b4e8dc94") // Инвойс к услугам, работам
    || doc.hasValue("v-s:hasDocumentKind", "d:53ee1e1d341b4351878fe12aff907618") // Инвойс на предоплату
    || doc.hasValue("v-s:hasDocumentKind", "d:753b0b16b74e4174949ff6ddbeac4294") // Инвойс поступающий вместе с товаром
    || doc.hasValue("v-s:hasDocumentKind", "d:e267901f0b904979ad7d8d4a0dc6a7d9") // Банковская гарантия
    || doc.hasValue("v-s:hasDocumentKind", "d:6ef5acd0e8104e158045636555baedac") // Подтверждение об открытии, изменении аккредитива
) {
    signers = signers.concat(new veda.IndividualModel("d:0c061f42-ceb5-442b-a550-61bfe762e0e1")); // Переводчик


    routes['approval'][simple+'comment'] = [new String('Проверить сумму. Указать аванс')];
    routes['sign'][simple+'comment'] = [new String('Выполнить перевод документа')];
    routes['review'][simple+'comment'] = [new String('Рассмотреть документ')];
    routes['examination'][simple+'comment'] = [new String('Ознакомиться с документом')];

  }
  if (
    doc.hasValue("v-s:hasDocumentKind", "d:8737ebad40db4fafbf1cd5929f580c3a") // Акт о приемке выполненных работ имп.
    || doc.hasValue("v-s:hasDocumentKind", "d:029549e0607c412097e47e47b4e8dc94") // Инвойс к услугам, работам
    || doc.hasValue("v-s:hasDocumentKind", "d:53ee1e1d341b4351878fe12aff907618") // Инвойс на предоплату
    || doc.hasValue("v-s:hasDocumentKind", "d:753b0b16b74e4174949ff6ddbeac4294") // Инвойс поступающий вместе с товаром
    || doc.hasValue("v-s:hasDocumentKind", "d:e267901f0b904979ad7d8d4a0dc6a7d9") // Банковская гарантия
    || doc.hasValue("v-s:hasDocumentKind", "d:6ef5acd0e8104e158045636555baedac") // Подтверждение об открытии, изменении аккредитива
    || doc.hasValue("v-s:hasDocumentKind", "d:c26c0ae5290a4c119561aacc2b01f04d") // Корректировка декларации на товары
    || doc.hasValue("v-s:hasDocumentKind", "d:77d4cbd58cf34321a82e7281e8347542") // Декларация на товары
    || doc.hasValue("v-s:hasDocumentKind", "d:7919fd49560f4340b41ce6bc01aa87e9") // Кредит - нота
  ) {
    if ( orderCreator.length ) {
      approvers = approvers.concat( orderCreator ); // Создатель заказа
    } else if ( supporter.length ) {
      approvers = approvers.concat( supporter ); // Специалист по сопровождению контракта
    }

    reviewers = reviewers.concat(new veda.IndividualModel("d:85c261ce-add1-40ef-9ccd-25cc62577eb1")); // Специалист казначейского отдела
    routes['review'][simple+'participant'] = reviewers;
    routes['review'][simple+'comment'] = [new String('Рассмотреть документ')];
    routes['review'][simple+'visible'] = [true];
    routes['review'][simple+'editable'] = [true];
    routes['review'][simple+'deadlineDays'] = [3];
  }
/*
  if ( orderCreator.length ) {
    examiners = examiners.concat(orderCreator); // Создатель заказа
  }
*/

  if ( doc.hasValue("v-s:hasDocumentKind", "d:0e013b49ee56476897656015c1ca6c94") // акт КС-2
    || doc.hasValue("v-s:hasDocumentKind", "d:ada37e3e328b4a1592b0e259e95539b8"))// акт КС-3

  {
    signers = signers.concat(new veda.IndividualModel("d:wom1ouosnbv76dvsixphdcdd"));//  роль "Технический директор. Подписание актов"

    routes['coordination3'][simple+'visible'] = [true];
    routes['coordination3'][simple+'editable'] = [true];
    routes['coordination3'][simple+'deadlineDays'] = [10];
    routes['coordination3'][simple+'comment'] = [new String('Согласовать первичный документ')];

    routes['coordination4'][simple+'visible'] = [true];
    routes['coordination4'][simple+'editable'] = [true];
    routes['coordination4'][simple+'deadlineDays'] = [10];
    routes['coordination4'][simple+'comment'] = [new String('Согласовать первичный документ')];

  }


  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [10];
  routes['coordination1'][simple+'comment'] = [new String('Согласовать первичный документ')];

  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination2'][simple+'deadlineDays'] = [10];
  routes['coordination2'][simple+'comment'] = [new String('Согласовать первичный документ')];

  routes['approval'][simple+'participant'] = approvers;
//routes['approval'][simple+'comment'] = [new String('Проверить сумму. Указать аванс')];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['approval'][simple+'deadlineDays'] = [3];

  routes['sign'][simple+'participant'] = signers;
//routes['sign'][simple+'comment'] = [new String('Выполнить перевод документа')];
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['sign'][simple+'deadlineDays'] = [3];

  routes['review'][simple+'participant'] = reviewers;
//routes['review'][simple+'comment'] = [new String('Рассмотреть документ')];
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
  routes['review'][simple+'deadlineDays'] = [3];

  routes['examination'][simple+'participant'] = examiners;
//routes['examination'][simple+'comment'] = [new String('Ознакомиться с документом')];
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['examination'][simple+'deadlineDays'] = [3];
}

//----------------------------------------------------------------------------------------------------------------------------------Заявка на cброс сточных вод
if (doc['rdf:type'][0].id === "mnd-s:RequestWasteWaterDischarge") {
  // #COORDINATION1---------------------------------------------------------------------------------------------------------------------------------------
  routes['coordination1'][simple+'participant'] = [
    new veda.IndividualModel("d:mondi_appointment_00046884_71015702"), // Дмитрий Злобин : Начальник управления
    new veda.IndividualModel("d:mondi_appointment_00058098_71024364") // Дмитрий Очеретенко : Главный эколог
  ];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [false];
  routes['coordination1'][simple+'deadlineDays'] = [10];
  // #EXAMINATION-----------------------------------------------------------------------------------------------------------------------------------------
  routes['examination'][simple+'participant'] = [
    new veda.IndividualModel("d:mondi_appointment_00049652_71000049"), // Вячеслав Луппов : Начальник
    new veda.IndividualModel("d:mondi_appointment_00027183_71015712"), // Александр Разумов : Начальник цеха
    new veda.IndividualModel("d:mondi_appointment_00066961_71024365"), // Дмитрий Караваев : Заместитель главного эколога
    new veda.IndividualModel("d:mondi_appointment_00016254_71019236"), // Сергей Щербаков : Заместитель начальника участка
    new veda.IndividualModel("d:mondi_appointment_00008542_71020127"), // Елена Ивашова : Инженер-технолог 1 категории
    new veda.IndividualModel("d:mondi_appointment_00056698_71019099"), // Елена Астраханова : Ведущий инженер
    new veda.IndividualModel("d:mondi_appointment_00057709_71011432"), // Наталья Пронько : Ведущий инженер
    new veda.IndividualModel("d:SYK-SMEN-WATR_appointment"), // Сотрудник. Мастер УВКХ
    new veda.IndividualModel("d:SYK-MASTERS-OPDH_appointment"), // Мастерам УПХ ВОЦ (SYK-Masters-OPDH)
    new veda.IndividualModel("d:GLAV_DISP_appointment")
  ];
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [false];
  routes['examination'][simple+'deadlineDays'] = [10];
  // #INSTRUCTION-----------------------------------------------------------------------------------------------------------------------------------------
  routes['instruction'][simple+'participant'] = doc['v-s:creator'].concat([new veda.IndividualModel("d:SYK-SMEN-WATR_appointment")]); // Сотрудник. Мастер УВКХ
  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [false];
  routes['instruction'][simple+'deadlineDays'] = [10];
  routes['instruction'][simple+'comment'] = [new String('Заполнить отчёт')];

  // #INSTRUCTION2----------------------------------------------------------------------------------------------------------------------------------------
  routes['instruction2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00056698_71019099")]; // Елена Астраханова : Ведущий инженер
  routes['instruction2'][simple+'visible'] = [true];
  routes['instruction2'][simple+'editable'] = [false];
  routes['instruction2'][simple+'deadlineDays'] = [10];
  routes['instruction2'][simple+'comment'] = [new String('Проверить результаты')];

  // #INSTRUCTION3----------------------------------------------------------------------------------------------------------------------------------------
  routes['instruction3'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00058098_71024364")]; // Дмитрий Очеретенко : Главный эколог
  routes['instruction3'][simple+'visible'] = [true];
  routes['instruction3'][simple+'editable'] = [false];
  routes['instruction3'][simple+'deadlineDays'] = [10];
  routes['instruction3'][simple+'comment'] = [new String('Ознакомиться с результатами')];

  // #informing----------------------------------------------------------------------------------------------------------------------------------------
  routes['introduction'][simple+'participant'] = [new veda.IndividualModel("d:SYK-SMEN-WATR_appointment")]; // Сотрудник. Мастер УВКХ
  routes['introduction'][simple+'visible'] = [true];
  routes['introduction'][simple+'editable'] = [false];
  routes['introduction'][simple+'deadlineDays'] = [10];
  routes['introduction'][simple+'comment'] = [new String('Для принятия решений')];



}
//----------------------------------------------------------------------------------------------------------------------------------Письмо
// Входящее письмо
if (doc['rdf:type'][0].id === "mnd-s:IncomingLetter") {
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
  routes['review'][simple+'deadlineDays'] = [10];
  routes['review'][simple+'participant'] = doc["v-s:recipient"][0]["v-s:correspondentPerson"];
}
// Исходящее письмо
if (doc['rdf:type'][0].id === "mnd-s:OutgoingLetter") {
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [3];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination2'][simple+'deadlineDays'] = [3];
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['sign'][simple+'deadlineDays'] = [3];
  routes['sign'][simple+'participant'] = doc["v-s:sender"][0]["v-s:correspondentPerson"];
}
//-------------------------------------------------------------------------------------------------------КОМАНДИРОВКА

if (doc['rdf:type'][0].id === "mnd-s:BusinessTrip") {

  if (!doc.hasValue("mnd-s:hasChangeOfTerms")) {

    // согласование 1 уровня
    if (doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00063551_70013758") // Пеллер
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00009992_71024618") // Дмитриева
      || doc.hasValue("v-s:businessTripEmployee", "d:73ff1ce67c77f6815c56b697") // Дмитриева
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00064206_71017819") // Бендер
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00068750_71017804") // Дружков
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00010043_71018870") // Третьяков
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00061421_71020115") // Рембе
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00000420_71014492") // Завацкая
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00068300_71019086") // Фотиева
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00011441_71014055") // Пшеницына
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00002610_71018830") // Белых
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00063592_71017302") // Едапина
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00050652_71021621") // Тутринова
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00069811_71017956") // Сабо
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00063711_71017961") // Ардашова
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00071167_71024480") // Соколов С.С.
    ) {
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [true];
    } else if (doc.hasValue("v-s:businessTripEmployee")) {
      var chief = doc["v-s:businessTripEmployee"][0]["v-s:occupation"][0].getChief();
      routes['coordination1'][simple+'participant'] = [chief];
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [true];
    } else {
      routes['coordination1'][simple+'visible'] = [true];
      routes['coordination1'][simple+'editable'] = [true];
    }

    //согласование 2 уровня
    if(doc.hasValue("mnd-s:hasBusinessTripPurpose", "d:0574e5e2e66447dfbf787a6e0b05f4fe")//Выставки
      || doc.hasValue("mnd-s:hasBusinessTripPurpose", "d:e9ca8b048f244f348775b7e2befaee8c")//Обучение
    ) {
      routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:0c989a61-896b-4e1d-a8f6-1f09b9a0e433")];//Специалист УЦ
      routes['coordination2'][simple+'visible'] = [true];
      routes['coordination2'][simple+'editable'] = [true];
    } else if (
      doc.hasValue("mnd-s:hasContactsWithCompetitors", "d:42f7a4e157ed4e3da34d6cd885df4a9b") //(запланированы)
      || doc.hasValue("mnd-s:hasContactsWithCompetitors", "d:0e31da05e36b4216832fb9a5ba853684") //(возможны)
      || doc.hasValue("mnd-s:hasBusinessTripPurpose", "d:c533caab0062434c9c3b74521fd9798c")// Выставки, форумы отраслевые (ЦБП, Леспром)
      || doc.hasValue("mnd-s:hasBusinessTripPurpose", "d:6c0bbecd077d4dff8b9481da73ea5350")//(Общественные организации отраслевые (ЦБП, Леспром))
      || doc.hasValue("mnd-s:hasBusinessTripPurpose", "d:236170912d8f40a08178baab6449ff05")// (Организации конкуренты)
    ) {
      routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:791faba3-440c-49bd-9d20-4612684f43fb")];//Юрисконсульт по конкурентному праву
      routes['coordination2'][simple+'visible'] = [true];
      routes['coordination2'][simple+'editable'] = [true];
    }

    // Подписание
    if( doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00009992_71024618") // Дмитриева
      || doc.hasValue("v-s:businessTripEmployee", "d:73ff1ce67c77f6815c56b697") // Дмитриева
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00064206_71017819") // Бендер*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00068750_71017804") // Дружков*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00010043_71018870") // Третьяков*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00061421_71020115") // Рембе*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00000420_71014492") // Завацкая*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00068300_71019086") // Фотиева*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00011441_71014055") // Пшеницына*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00002610_71018830") // Белых*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00063592_71017302") // Едапина*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00050652_71021621") // Тутринова*
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00069811_71017956") // Сабо
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00063711_71017961") // Ардашова
      || doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00071167_71024480") // Соколов С.С.
    ) {
      routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_70013758")];//Генеральный директор
      routes['sign'][simple+'visible'] = [true];
      routes['sign'][simple+'editable'] = [false];
    } else if(doc.hasValue("v-s:businessTripEmployee", "d:mondi_appointment_00063551_70013758")//Пеллер
    ) {
      routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71015289")];//Финансовый директор
      routes['sign'][simple+'visible'] = [true];
      routes['sign'][simple+'editable'] = [false];
    } else if(!doc.hasValue("v-s:hasClassifierCountry", "d:Country_RUS")){
      routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_70013758")];//Генеральный директор
      routes['sign'][simple+'visible'] = [true];
      routes['sign'][simple+'editable'] = [false];
    } else if(doc.hasValue("v-s:hasClassifierCountry", "d:Country_RUS")){
      routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71019086")];//Директор по персоналу Монди
      routes['sign'][simple+'visible'] = [true];
      routes['sign'][simple+'editable'] = [false];
    }

    routes['coordination3'][simple+'visible'] = [true];
    routes['coordination3'][simple+'editable'] = [true];
    routes['coordination4'][simple+'visible'] = [true];
    routes['coordination4'][simple+'editable'] = [true];

    //Утверждение
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:61e1919e-2460-41ed-8692-042d2634542a")]; //Регистратор документов СЛПК
    routes['approval'][simple+'visible'] = [true];
    routes['approval'][simple+'editable'] = [false];
    routes['approval'][simple+'comment'] = [new String('Зарегистрировать')];

    //Рассмотрение
    routes['review'][simple+'participant'] = [new veda.IndividualModel('d:c273dde3-5a8c-4f83-b9ed-b24f86d1b21d')]; // Бухгалтер КФО
    routes['review'][simple+'participant'] = routes['review'][simple+'participant'].concat(new veda.IndividualModel('d:f90f75d3-0718-45a6-a696-74a8aa24d35c')); // Специалист ОК по командировкам
    routes['review'][simple+'visible'] = [true];
    routes['review'][simple+'editable'] = [false];
    routes['review'][simple+'deadlineDays'] =[doc["v-s:dateFrom"][0]];

    //Исполнение
    if( doc.hasValue("v-s:dateTo")){
      var data=new Date(doc["v-s:dateTo"][0].toISOString())
      data.setDate(data.getDate() + 3);
    } else {data=[];}
    routes['instruction'][simple+'participant'] =[doc["v-s:creator"][0]];
    routes['instruction'][simple+'visible'] = [true];
    routes['instruction'][simple+'editable'] = [false];
    routes['instruction'][simple+'deadlineDays'] =[data];
    routes['instruction'][simple+'comment'] = [new String('Подготовить отчет о командировке')];

  } else {
    routes['sign'][simple+'visible'] = [true];
    routes['sign'][simple+'editable'] = [true];
    routes['review'][simple+'participant'] = [new veda.IndividualModel('d:c273dde3-5a8c-4f83-b9ed-b24f86d1b21d')]; // Бухгалтер КФО
    routes['review'][simple+'participant'] = routes['review'][simple+'participant'].concat(new veda.IndividualModel('d:f90f75d3-0718-45a6-a696-74a8aa24d35c')); // Специалист ОК по командировкам
    routes['review'][simple+'visible'] = [true];
    routes['review'][simple+'editable'] = [false];


    var lastIndex = doc["mnd-s:hasChangeOfTerms"].length - 1;
    if ( doc["mnd-s:hasChangeOfTerms"][lastIndex].hasValue("v-s:hasStatus", "v-s:StatusCanceled") ) {
      routes['sign'][simple+'comment'] = [new String('Отмена командировки')];
      routes['review'][simple+'comment'] = [new String('Отмена командировки')];
    } else {
      routes['sign'][simple+'comment'] = [new String('Подтвердить изменение сроков')];
      routes['review'][simple+'comment'] = [new String('Изменение сроков')];
    }
  }
}

//--------------------------------------------------------ЗАЯВКА-НА-ПРОПУСК

if (doc['rdf:type'][0].id === "mnd-s:PassRequest") {
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [10];
  routes['coordination1'][simple+'comment'] = [new String('Согласовать заявку на пропуск')];

  if ( (doc.hasValue("mnd-s:hasPassRequestGoal", "d:ac519d730b3347069f86f38673522918")) || (doc.hasValue("mnd-s:hasPassRequestGoal", "d:b8186a3dd9254a048c4a26044518b129")) || (doc.hasValue("mnd-s:hasPassRequestGoal", "d:9d99778155314394abbf36e54a091677"))){
    //проверяем есть ли в массиве пропусков хотя бы один с заполненным полем v-s:correspondentPersonDescription
    var corPerDes = doc["mnd-s:hasPass"] ;
    var logic = corPerDes.some(function (request){return request.hasValue("v-s:correspondentPersonDescription")});
    console.log( logic );
    //проверяем массив пропусков на наличие "временный на человека" || "электронный пропуск" || "изменение уровня доступа" || "разовый на человека"
    var hasPassKind = corPerDes.some(function (request){return request.hasValue("mnd-s:hasPassKind", "d:a149d268628b46ae8d40c6ea0ac7f3dd") || request.hasValue("mnd-s:hasPassKind", "d:ece7e741557e406bb996809163810c6e") || request.hasValue("mnd-s:hasPassKind", "d:621eee85422448d8994242641def3e5e") || request.hasValue("mnd-s:hasPassKind", "d:228e15d5afe544c099c337ceafa47ea6")});
    console.log( hasPassKind );
    if (doc.hasValue("mnd-s:hasPass") && logic && hasPassKind){
      routes['coordination2'][simple+'visible'] = [true];
      routes['coordination2'][simple+'editable'] = [false];
      routes['coordination2'][simple+'comment'] = [new String('Согласовать заявку на пропуск')];
      routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:js1nnk9i8lnlfsai1tl6ks5t")];
    }
  }

  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];

  routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:7af25dfb-5319-466f-afca-0c0289f2557c")]; //Руководитель ОООИ СЭБ
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['approval'][simple+'comment'] = [new String('Зарегистрировать')];

  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
}

//---------------------------------------------------------ПРЕДСТАВИТЕЛЬСКИЕ-РАСХОДЫ
if (doc['rdf:type'][0].id === "mnd-s:RepresentativeCosts") {

  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];

  var stakeholder ;
  if (doc.hasValue("v-s:stakeholder")){
   stakeholder = doc["v-s:stakeholder"] ;
   routes['sign'][simple+'participant'] = stakeholder ;
   routes['sign'][simple+'visible'] = [true];
   routes['sign'][simple+'editable'] = [false];
  }

  routes['examination'][simple+'participant'] = [new veda.IndividualModel("d:c273dde3-5a8c-4f83-b9ed-b24f86d1b21d")]; //(Бухгалтер КФО)
  routes['examination'][simple+'editable'] = [false];
  routes['examination'][simple+'visible'] = [true];


  if (doc.hasValue("v-s:hasPaymentForm", "d:e09f37f287a54e92967ba06ee1d6d472")){// (Счет)
    routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:3bcad243-5d01-4eba-b62b-1fe233ea2cfa")]; //Регистратор документов СЛПК
    routes['approval'][simple+'visible'] = [true];
    routes['approval'][simple+'editable'] = [false];

    var creator ;
    if (doc.hasValue("v-s:creator")){
      creator = doc["v-s:creator"] ;
      routes['review'][simple+'participant'] = creator;
    }
    routes['review'][simple+'visible'] = [true];
    routes['review'][simple+'editable'] = [false];
    routes['review'][simple+'comment'] = [new String('Получите подтверждение оплаты из бухгалтерии. Проведите мероприятие. Сформируйте отчет')];

    routes['instruction'][simple+'visible'] = [true];
    routes['instruction'][simple+'editable'] = [false];
    routes['instruction'][simple+'participant'] = [new veda.IndividualModel("d:c273dde3-5a8c-4f83-b9ed-b24f86d1b21d")]; //(Бухгалтер КФО)

  } else if (doc.hasValue("v-s:hasPaymentForm", "d:3d99624858e74529aaa6df725f6f611d")    // Корпоративная карта
    || doc.hasValue("v-s:hasPaymentForm", "d:43efbfdadcf64f4db2a0e07d974d9098") // Наличный расчет
    || doc.hasValue("v-s:hasPaymentForm", "d:5df55c8191f245a4a49cebc49cc98a76")) // Услуги ТП Бумажник
  {
    var creator2 ;
    if (doc.hasValue("v-s:creator")){
      creator2 = doc["v-s:creator"] ;
      routes['review'][simple+'participant'] = creator2;
    }
    routes['review'][simple+'visible'] = [true];
    routes['review'][simple+'editable'] = [false];
    routes['review'][simple+'comment'] = [new String('Проведите мероприятие. Сформируйте отчет')];
  }
}
  //--------------------------------------------------------ЗАЯВКА-НА-ПРОПУСК

if (doc['rdf:type'][0].id === "mnd-s:PassRequest") {
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [10];
  routes['coordination1'][simple+'comment'] = [new String('Согласовать заявку на пропуск')];

  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];

  routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:7af25dfb-5319-466f-afca-0c0289f2557c")]; //Регистратор документов СЛПК
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['approval'][simple+'comment'] = [new String('Зарегистрировать')];

  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
}



//---------------------------------------------------------Распорядительный документ
if (doc['rdf:type'][0].id === "mnd-s:Decree") {

  routes['informing'][simple+'participant'] = doc["v-s:initiator"] ;
  routes['informing'][simple+'visible'] = [true];
  routes['informing'][simple+'editable'] = [true];
  routes['informing'][simple+'comment'] = [new String('Уведомление о начале процесса согласования документа')];

var informingDecree ;
  if (doc.hasValue("mnd-s:hasDecreeKind", "d:2283f9f186794145bd6c8e3229f7a009") //(Распоряжение по основной деятельности)
     || doc.hasValue("mnd-s:hasDecreeKind", "d:b7a958be3d14437f98ab414c8ce88977") //(Приказ по основной деятельности)
     || doc.hasValue("mnd-s:hasDecreeKind", "d:391362e32a2b48199ef4bebe9b7a611a") //(Приказ по ГО)
     || doc.hasValue("mnd-s:hasDecreeKind", "d:9664874293574b79af624f01e3c091cd") //(Распоряжение по ГО)
  ){
  informingDecree = [new veda.IndividualModel("d:61e1919e-2460-41ed-8692-042d2634542a")]; //Регистратор документов СЛПК
  routes['informing'][simple+'participant']=routes['informing'][simple+'participant'].concat(informingDecree) ;

}
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination3'][simple+'visible'] = [true];
  routes['coordination3'][simple+'editable'] = [true];
  routes['coordination4'][simple+'visible'] = [true];
  routes['coordination4'][simple+'editable'] = [true];

  routes['sign'][simple+'participant'] = doc["v-s:signedBy"] ;
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];

  var aprovalDecree ;
//3.1
  if (doc.hasValue("mnd-s:hasDecreeKind", "d:9664874293574b79af624f01e3c091cd") //(Распоряжение по ГО)
     || doc.hasValue("mnd-s:hasDecreeKind", "d:391362e32a2b48199ef4bebe9b7a611a") //(Приказ по ГО)
     || doc.hasValue("mnd-s:hasDecreeKind", "d:b7a958be3d14437f98ab414c8ce88977") //(Приказ по основной деятельности)
     || doc.hasValue("mnd-s:hasDecreeKind", "d:2283f9f186794145bd6c8e3229f7a009") //(Распоряжение по основной деятельности)
  ){
    aprovalDecree = [new veda.IndividualModel("d:61e1919e-2460-41ed-8692-042d2634542a")]; //Регистратор документов СЛПК
//3.2

  } else if(doc.hasValue("mnd-s:hasDecreeKind", "d:586ab1e3ea554a92ab6ebb64d2df8c41") //(Распоряжение по кадровой работе)
           || doc.hasValue("mnd-s:hasDecreeKind", "d:e5753b58168843e28ad73855c07b8cff")// (Приказ по кадровой работе)
  ){
    aprovalDecree = [new veda.IndividualModel("d:mondi_position_70000238")]; //(Начальник отдела кадров)
//3.3

  } else if(doc.hasValue("mnd-s:hasDecreeKind", "d:ce99f0a34bbb4813ac88d3dfe7699a1a") //(Приказ Распоряжение по кадрам. Верхне-Вычегодский участок)
  ){
    aprovalDecree = [new veda.IndividualModel("d:650a386e-d0ed-4338-9a83-ca183d16617e")]; //(Регистратор распоряжений Верхне-Вычегодский участок)
//3.4
  } else if(doc.hasValue("mnd-s:hasDecreeKind", "d:e5061f4736d3401899fd172f67c18f84") //(Приказ Распоряжение по кадрам. Верхне-Вычегодский участок)
  ){
    aprovalDecree = [new veda.IndividualModel("d:130e833c-1d6b-4e2f-b70f-6ca5b62ce7fd")]; //(Регистратор распоряжений Койгородский участок)
  }
//3.5
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:c9dc77d387ff43ac8e88766aa66c7cae") //(Приказ Распоряжение по кадрам. Корткеросский участок)
  ){
    aprovalDecree = [new veda.IndividualModel("d:238916b4-5aac-42f8-9c6c-4fabb2507c29")]; //(Регистратор распоряжений Корткеросский участок)
  }
//3.6
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:ca1d0c4ca12e44ba8ad7e3471970e67c") //(Приказ Распоряжение по кадрам. Ношульский участок)
  ){
    aprovalDecree = [new veda.IndividualModel("d:9a9db2fb-9546-4d44-9501-56dd5bb23653")]; //(Регистратор распоряжений Ношульский участок)
  }
//3.7
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:6f64ab3a995c4851865136e58e88f7ed") //(Приказ Распоряжение по кадрам. Сысольский участок)
  ){
    aprovalDecree = [new veda.IndividualModel("d:33bec470-8d6d-4b07-b522-4a9c0fd6f6d2")]; //(Регистратор распоряжений Сысольский участок)
  }
//3.8
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:337906d27e484923aa8b4400e6fdc7a3") //(Приказ Распоряжение по кадрам. Удорский участок)
  ){
    aprovalDecree = [new veda.IndividualModel("d:350a5e64-d4a5-4cb8-b875-ec4157ba55bf")]; //((Регистратор распоряжений Удорский участок)
  }
//3.9
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:c0d293bfced442d8864ba2aa450b8604") //(Приказ Распоряжение по кадрам. Усть-Куломский участок)
  ){
    aprovalDecree = [new veda.IndividualModel("d:4c26f5b2-63bf-4465-84c0-07d34ce7e8ab")]; //(Регистратор распоряжений Усть-Куломский участок)
  }
//3.10
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:6b0f6cc7c96b49e4b5566316e75ab81e") //(Распоряжение по ПБ)
  ){
    aprovalDecree = [new veda.IndividualModel("d:beec6105-4511-4c63-861a-d6cde0dfc58b")]; //(Регистратор распоряжений ПБ)
  }
//3.11
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:4a293c55b37e492fad852401349b3072") //(Распоряжение по ПЦ)
  ){
    aprovalDecree = [new veda.IndividualModel("d:e88d9685-d02f-46bc-8e23-7038f018e2bd")]; //(Регистратор распоряжений ПЦ)
  }
//3.12
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:43b31005c8754e77ab2d472c907a81cd") //(Распоряжение по СРТ УЛО)
  ){
    aprovalDecree = [new veda.IndividualModel("d:c6b2f375-755f-477b-a5a0-63719c46a75f")]; //(Регистратор распоряжений СРТ УЛО)
  }
//3.13
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:cd74acdd370a4647851e588ab49e227f") //(Распоряжение по УЛ)
  ){
    aprovalDecree = [new veda.IndividualModel("d:dece060b-d010-46e5-95e4-e69244f43e53")]; //(Регистратор распоряжений УЛ)
  }
//3.14
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:d67d40855c4c492e93f1f8e979b32915") //(Распоряжение по УЛО)
  ){
    aprovalDecree = [new veda.IndividualModel("d:424e1e88-ed4e-424d-abc7-a829c0f4d11c")]; //(Регистратор распоряжений УЛО)
  }
//3.15
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:93a91c7be4f84289b3a618ab4aaf9c99") //(Распоряжение по УПБ)
  ){
    aprovalDecree = [new veda.IndividualModel("d:8d5a2a33-d646-4006-89ab-bc97064fcc24")]; //(Регистратор распоряжений УПБ)
  }
//3.16
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:e5e9d7334e7142b98ce82b53aa9f1b4e") //(Распоряжение по УТТО)
  ){
    aprovalDecree = [new veda.IndividualModel("d:869ca4e0-eb52-4612-a0b8-a66659720c24")]; //(Регистратор распоряжений УТТО)
  }
//3.17
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:506814f2866f4adc9f5effe3cbd75dab") //(Распоряжение по ЭП)
  ){
    aprovalDecree = [new veda.IndividualModel("d:1ca57ded-c051-4ca4-bc33-fb8994b04d8f")]; //(Регистратор распоряжений ЭП)
  }
//3.18
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:5f3338bf470448958167688853db0b4a") //(Распоряжение по ЛПО)
  ){
    aprovalDecree = [new veda.IndividualModel("d:2474d195-0bc4-4bc6-83d4-b4a4eb2fb350")]; //(Регистратор распоряжений ЛПО)
  }
//3.19
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:40fec391a071473bbafda39e26839cd0") //(Распоряжение по СЛЗ УЛО)
  ){
    aprovalDecree = [new veda.IndividualModel("d:aa4374af-380a-4f19-a415-4c32d8d1b3e4")]; //(Регистратор распоряжений по СЛЗ УЛО)
  }
//3.20
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:b79019ea82e24aaa94ec226ad10f7a46") //(Распоряжение по САТ УЛО)
  ){
    aprovalDecree = [new veda.IndividualModel("d:f63d88c8-42c7-4a7b-a1b4-57204bc86541")]; //(Регистратор распоряжений по CАТ УЛО)
  }
//3.21
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:897c15bc7cdf425c8106775ef31ecb17") //(Распоряжение по САТ СЭБ)
  ){
    aprovalDecree = [new veda.IndividualModel("d:06e9adee-8349-4ec0-8095-7a7b142c9709")]; //(Регистратор распоряжений по СЭБ )
  }
//3.22
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:9c171b39761749dab3ca7891b67bf531") //(Распоряжение по ОООС)
  ){
    aprovalDecree = [new veda.IndividualModel("d:6f55fed4-5eff-4afe-b00e-e7df7c53be9e")]; //(Регистратор распоряжений ОООС)
  }
//3.23
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:61caa917c8584832ae8856ec9d982d41") //(Распоряжение по ТС)
  ){
    aprovalDecree = [new veda.IndividualModel("d:8c81cb04-be5c-442f-bfa2-49f9f47458c2")]; //(Регистратор распоряжений ТС)
  }
//3.24
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:106cf5f7d76b4640a2bd771e05845c4b") //(Распоряжение по УИП )
  ){
    aprovalDecree = [new veda.IndividualModel("d:4f6f2f60-a0cd-49bc-9b0d-d0166909285a")]; //(Регистратор распоряжений УИП )
  }
//3.25
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:d55ba7ababf846eda58e0940b4172ac8") //(Распоряжение по УЗ)
  ){
    aprovalDecree = [new veda.IndividualModel("d:1b69d188-8268-4c22-8deb-3bbc0abd249f")]; //(Регистратор распоряжений УЗ)
  }
//3.25
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:ed97548ed45047bcaf5de9ce05de205c") //(Распоряжение по УФ)
  ){
    aprovalDecree = [new veda.IndividualModel("d:6990c8e9-f6f4-423d-ac46-b892f64ff3df")]; //(Регистратор распоряжений по УФ)
  }
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:8b527be6d03742caa2756f560a4e10ba") //(Распоряжение по УРиР)
  ){
    aprovalDecree = [new veda.IndividualModel("d:8467ac45-59b9-4c94-833a-330da3683069")]; //(Регистратор документов УРиР)
  }
  else if(doc.hasValue("mnd-s:hasDecreeKind", "d:d581c6a8c3224d3e801607af3357a4aa") //(Распоряжение по УЛ СПЖТ)
  ){
    aprovalDecree = [new veda.IndividualModel("d:cca0e582-3b9d-4858-98bf-45fe03d1ceb1")]; //(Регистратор документов УЛ СПЖТ)
  } else { aprovalDecree = []; }

  routes['approval'][simple+'participant'] = aprovalDecree ;
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [false];
  routes['approval'][simple+'comment'] = [new String('На оформление распорядительного документа и регистрацию')];

  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['examination'][simple+'deadlineDays'] = [10];
  routes['examination'][simple+'comment'] = [new String('Ознакомиться с документом для дальнейшей работы')];
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['v-s:copyTo']); // Список ознакомления

}

//--------------------------------------------------------------------------------Заявка ОЗМ-------
if (doc['rdf:type'][0].id === "mnd-s:MaterialRequest") {
  routes['introduction'][simple+'visible'] = [false];
  routes['introduction'][simple+'editable'] = [false];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [false];
  routes['coordination2'][simple+'editable'] = [false];
  routes['coordination3'][simple+'visible'] = [false];
  routes['coordination3'][simple+'editable'] = [false];
  routes['sign'][simple+'visible'] = [false];
  routes['sign'][simple+'editable'] = [false];
  routes['approval'][simple+'visible'] = [false];
  routes['approval'][simple+'editable'] = [false];
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
  routes['review'][simple+'deadlineDays'] =[10];

  if (doc["mnd-s:hasMaterialRequestKind"][0].id === 'd:688f20468e1b4fbd8fb8e4e8c7b05e5f'){
      routes['review'][simple+'comment'] = [new String('Создание ОЗМ')];

    } else if (doc["mnd-s:hasMaterialRequestKind"][0].id === 'd:3ae657fee4ea41308acd5e239660976f'){
      routes['review'][simple+'comment'] = [new String('Изменение ОЗМ')];

    } else if (doc["mnd-s:hasMaterialRequestKind"][0].id === 'd:1d53b0e615ef446bb25c877cdbe1a0e4'){
      routes['review'][simple+'comment'] = [new String('Удаление ОЗМ')];
    }

  if(doc.hasValue('mnd-s:hasMaterialGroup')){
    var mrp_contr = new veda.IndividualModel(doc['mnd-s:hasMaterialGroup'][0].id);
    if (mrp_contr.hasValue('mnd-s:controllerMRP')){
      routes['review'][simple+'participant'] = routes['instruction'][simple+'participant'].concat(mrp_contr["mnd-s:controllerMRP"]); // MRP контроллер группы материалов
    }
  }
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
}


//--------------------------------------------------------------------------------Доверенность-------
if (doc['rdf:type'][0].id === "mnd-s:PowerOfAttorney") {
  routes['introduction'][simple+'visible'] = [false];
  routes['introduction'][simple+'editable'] = [false];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];

  var chief;
  if ( doc.hasValue("v-s:grantee") && doc["v-s:grantee"][0].hasValue("v-s:correspondentPerson") && doc["v-s:grantee"][0]["v-s:correspondentPerson"][0].is("v-s:Appointment") ) {
    chief = doc["v-s:grantee"][0]["v-s:correspondentPerson"][0].getChief();
  } else {
    chief = doc["v-s:creator"][0].getChief();
  }
  if ( chief ) {
    routes['coordination1'][simple+'participant'] = [chief];
  }

  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [false];
  routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:9d3479d9-992a-4ffa-af5a-cba04574489d")]; //Юрисконсульт. Доверенности

  routes['coordination3'][simple+'visible'] = [false];
  routes['coordination3'][simple+'editable'] = [false];
  routes['coordination4'][simple+'visible'] = [false];
  routes['coordination4'][simple+'editable'] = [false];
  routes['coordination5'][simple+'visible'] = [false];
  routes['coordination5'][simple+'editable'] = [false];
  routes['coordination6'][simple+'visible'] = [false];
  routes['coordination6'][simple+'editable'] = [false];

  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [false];
  routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_70013758")]; //Генеральный директор СЛПК

  routes['approval'][simple+'visible'] = [false];
  routes['approval'][simple+'editable'] = [false];
  routes['review'][simple+'visible'] = [false];
  routes['review'][simple+'editable'] = [false];

  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [false];
  routes['instruction'][simple+'participant'] = [new veda.IndividualModel("d:61e1919e-2460-41ed-8692-042d2634542a")]; //Регистратор документов СЛПК
  routes['instruction'][simple+'comment'] = [new String('Отсканировать и направить на ознакомление')];

}

//--------------------------------------------------------------------------------Акт уничтожения СИЗ-------
if (doc['rdf:type'][0].id === "mnd-s:PpeDestructionRequest") {
  routes['coordination1'][simple+'participant'] = doc["v-s:member"];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];

  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [true];
  routes['instruction'][simple+'participant'] = [new veda.IndividualModel("d:3833560e-5211-4097-850d-72311be239e0")];
  routes['instruction'][simple+'comment'] = [new String('Исполнить поручение')];

}

//--------------------------------------------------------------------------------Инвестиционная заявка-------

if (doc['rdf:type'][0].id === "mnd-s:ProjectCapex") {
  routes['coordination1'][simple+'visible']  =  [true] ;
  routes['coordination1'][simple+'editable'] = [true] ;
    if ( doc.hasValue("v-s:projectManager") || doc.hasValue("v-s:initiator") ){
      var manager = doc["v-s:projectManager"][0] ;
      var initiator = doc["v-s:initiator"][0] ;
      routes['coordination1'][simple+'participant'] = [ manager ] ;
      routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(initiator) ;
    }
  routes['coordination2'][simple+'visible'] = [true] ;
  routes['coordination2'][simple+'editable'] = [true] ;
    if ( doc.hasValue("v-s:initiator") && doc.hasValue("mnd-s:hasProjectCapexKind", "d:d0148fuotsjyd7yjalgy4j8u") ) {
      var chief = doc["v-s:initiator"][0].getChief() ;
      routes['coordination2'][simple+'participant'] = [ chief ] ;
      routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00004758_71019104")) ;
    } else if ( ( doc.hasValue("v-s:initiator") && doc.hasValue("mnd-s:hasProjectCapexKind", "d:i205cve3glu4rcbs7kme8hjd") ) ) {
      var chief2 = doc["v-s:initiator"][0].getChief() ;
      routes['coordination2'][simple+'participant'] = [ chief2 ] ;
      routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00004758_71019104")) ;
    } else if ( doc.hasValue("mnd-s:hasProjectCapexKind", "d:d0148fuotsjyd7yjalgy4j8u") ){
      routes['coordination2'][simple+'participant'] = [ new veda.IndividualModel("d:mondi_appointment_00004758_71019104") ] ;
    } else if ( doc.hasValue("mnd-s:hasProjectCapexKind", "d:i205cve3glu4rcbs7kme8hjd") ){
      routes['coordination2'][simple+'participant'] = [ new veda.IndividualModel("d:mondi_appointment_00004758_71019104") ] ;
    } else if ( doc.hasValue("v-s:initiator") ){
      var chief = doc["v-s:initiator"][0].getChief() ;
      routes['coordination2'][simple+'participant'] = [ chief ] ;
    }
  routes['coordination3'][simple+'visible'] = [true] ;
  routes['coordination3'][simple+'editable'] = [true] ;
  routes['coordination3'][simple+'participant'] = [ new veda.IndividualModel("d:mondi_position_70006692"), new veda.IndividualModel("d:mondi_appointment_00069970_71025163") ] ;
  routes['coordination4'][simple+'visible'] = [true] ;
  routes['coordination4'][simple+'editable'] = [true] ;
    if ( doc.hasValue("mnd-s:hasProjectCapexKind", "d:d0148fuotsjyd7yjalgy4j8u") || doc.hasValue("mnd-s:hasProjectCapexKind", "d:i205cve3glu4rcbs7kme8hjd") ) {
      routes['coordination4'][simple+'participant'] = [ new veda.IndividualModel("d:mondi_position_71024460"), new veda.IndividualModel("d:mondi_position_71024461") ] ;
    }
  routes['sign'][simple+'visible'] = [true] ;
  routes['sign'][simple+'editable'] = [true] ;
  routes['approval'][simple+'visible'] = [true] ;
  routes['approval'][simple+'editable'] = [true] ;
  routes['approval'][simple+'participant'] = [ new veda.IndividualModel("d:554f8555-af9a-436d-ada9-09458614e878") ] ;
  routes['examination'][simple+'visible'] = [true] ;
  routes['examination'][simple+'editable'] = [true] ;
  routes['examination'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71017956"), new veda.IndividualModel("d:ff670646-d509-4ff9-92f2-482c255441e8")] ; //Начальник УПБ Специалист ОУП
  routes['examination'][simple+'comment'] = [new String('Ознакомиться')] ;
}

//--------------------------------------------------------------------------------Запрос на изменения в проекте-------
if (doc['rdf:type'][0].id === "mnd-s:ProjectCapexRequestChange") {
  routes['coordination1'][simple+'visible']  =  [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'participant'] = doc['v-s:backwardTarget'][0]['v-s:owner']; //Заказчик проекта
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00004758_71019104")); //БезбородоваНВ
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71023848")); //Руководитель группы. Группа по капитальным вложениям ОТЗ УЗ
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00069811_71017956")); //Сабо
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00064183_71013321")); //Плавюк
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00058045_71023059")); //Урнышев

  routes['coordination2'][simple+'visible']  =  [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024462")); //Начальник ОУП УРиР
  routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_appointment_00051823_71016924")); //ПоважановаЭ

  routes['coordination3'][simple+'visible']  =  [false];
  routes['coordination3'][simple+'editable'] = [false];
  routes['coordination4'][simple+'visible']  =  [false];
  routes['coordination4'][simple+'editable'] = [false];

  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71024461")]; // Начальник отдела. Отдел кап.стр. и реконструкции УР и Р

  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71021843")]; //Начальник УРиР

  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
  routes['review'][simple+'participant'] = [new veda.IndividualModel("d:ff670646-d509-4ff9-92f2-482c255441e8")]; // Специалист ОУП

  routes['instruction'][simple+'visible'] = [false];
  routes['instruction'][simple+'editable'] = [false];

  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['examination'][simple+'participant'] = [new veda.IndividualModel("d:mondi_appointment_00066642_71020066")]; //ПыстинаС
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71017956")); //Начальник УПБ

}

//--------------------------------------------------------------------------План ОПВ
if (doc['rdf:type'][0].id === "mnd-s:TrialOutputPlan") {
  routes['informing'][simple+'visible'] = [false];
  routes['informing'][simple+'editable'] = [false];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [3];
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024776")); //руководитель группы технологической отчетности и аналитики ТС;
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71000071")); //Главный технолог
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination2'][simple+'deadlineDays'] = [3];
  routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014042")); // Начальник ПБ
  routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014040")); //начальник ПЦ
  routes['coordination2'][simple+'participant'] = routes['coordination2'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71020115")); //начальник УЗ
  routes['coordination3'][simple+'visible'] = [false];
  routes['coordination3'][simple+'editable'] = [false];
  routes['sign'][simple+'visible'] = [false];
  routes['sign'][simple+'editable'] = [false];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [false];
  routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71018870")]; //Директор по производству
  routes['review'][simple+'visible'] = [false];
  routes['review'][simple+'editable'] = [false];

}

//--------------------------------------------------------------------------Программа ОПВ
if (doc['rdf:type'][0].id === "mnd-s:TrialOutputProgram") {
  routes['informing'][simple+'visible'] = [false];
  routes['informing'][simple+'editable'] = [false];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [3];
// Начальник производства
// mnd-s:hasTrialOutputResponsible - v-s:parentUnit
if (doc.hasValue('mnd-s:hasTrialOutputResponsible') && doc['mnd-s:hasTrialOutputResponsible'][0].hasValue('v-s:parentUnit')) {
  var parentUnitName = doc['mnd-s:hasTrialOutputResponsible'][0]['v-s:parentUnit'][0].id;
  if (parentUnitName === 'd:mondi_department_50001664') { // Производство бумаги
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014042"));
  } else if (parentUnitName === 'd:mondi_department_50001721') { // Производство целлюлозы
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014040"));
  } else if (parentUnitName === 'd:mondi_department_50001665') { // Производство целлюлозы
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014260"));
  }
}
// Начальник цеха
// mnd-s:hasTrialOutputResponsible - v-s:responsibleDepartment - hasChief
if (doc.hasValue('mnd-s:hasTrialOutputResponsible') && doc['mnd-s:hasTrialOutputResponsible'][0].hasValue('v-s:responsibleDepartment') && doc['mnd-s:hasTrialOutputResponsible'][0]['v-s:responsibleDepartment'][0].hasValue('v-s:hasChief')) {
  var responsibleDepartment = doc['mnd-s:hasTrialOutputResponsible'][0]['v-s:responsibleDepartment'][0]['v-s:hasChief'][0];
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(responsibleDepartment);
 }
// Главный технолог
   routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71000071"));
// Руководитель группы. Группа технологического контроля ПЦ и ЭП
   routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024794"));
// Руководитель группы. Группа технологического контроля ПБ
   routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024795"));
// Начальник лаборатории. Производств.лаборат.технолог.контроля
   routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024493"));
// Начальник отдела. Отдел бизнес-анализа ОД УпрБухУ и Контр
   routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71000220"));

  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination2'][simple+'deadlineDays'] = [3];
  if (doc.hasValue("mnd-s:hasAreaForImprovement", "d:a3hzlhyu3zre8p0tp4qw2rks1")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71020115")];
  } else if (doc.hasValue("mnd-s:hasAreaForImprovement", "d:ozen3oyudubzn0kg2jr2pp7h")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71014270")];
  } else if (doc.hasValue("mnd-s:hasAreaForImprovement", "d:a24axszfwusf1lcckv80m0nag")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71014270")];
  } else if (doc.hasValue("mnd-s:hasAreaForImprovement", "d:hy3bz0iy5lumznz3t1p8d0mc")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71024364")];
  } else if (doc.hasValue("mnd-s:hasAreaForImprovement", "d:t2hjs6drp55qrwhloomf1ffv")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71017956")];
  } else if (doc.hasValue("mnd-s:hasAreaForImprovement", "d:ov6s3mpclgumzsjdh7ww0lgl")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71024364"), new veda.IndividualModel("d:mondi_position_71017956"), new veda.IndividualModel("d:mondi_position_71020115")];
  } else if (doc.hasValue("mnd-s:hasAreaForImprovement", "d:vrph83cmydgalaper6wrxiuq")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71020115"), new veda.IndividualModel("d:mondi_position_71014270"), new veda.IndividualModel("d:mondi_position_71001270")];
  } else {
    routes['coordination2'][simple+'participant'] = [];
  }

  routes['coordination3'][simple+'visible'] = [true];
  routes['coordination3'][simple+'editable'] = [true];
  routes['coordination3'][simple+'deadlineDays'] = [3];
  // Директор по производству
  routes['coordination3'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71018870")];
  // Технический директор
  routes['coordination3'][simple+'participant'] = routes['coordination3'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71017804"));
  // Начальник управления бухучета и контроллинга
  routes['coordination3'][simple+'participant'] = routes['coordination3'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024618"));

  routes['sign'][simple+'visible'] = [false];
  routes['sign'][simple+'editable'] = [false];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [false];
  routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_70013758")]; //Генеральный директор
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['examination'][simple+'comment'] = [new String('Программа ОПВ утверждена / не утверждена')];
  // Ответственный за выработку
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['v-s:responsible'][0]);
  // Руководитель выработки
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(doc['v-s:projectManager'][0]);
  // Начальник производства
if (doc.hasValue('mnd-s:hasTrialOutputResponsible') && doc['mnd-s:hasTrialOutputResponsible'][0].hasValue('v-s:parentUnit')) {
  var parentUnitName = doc['mnd-s:hasTrialOutputResponsible'][0]['v-s:parentUnit'][0].id;
  if (parentUnitName === 'd:mondi_department_50001664') { // Производство бумаги
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014042"));
  } else if (parentUnitName === 'd:mondi_department_50001721') { // Производство целлюлозы
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014040"));
  } else if (parentUnitName === 'd:mondi_department_50001665') { // Производство целлюлозы
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014260"));
  }
}
  // Начальник цеха
  // mnd-s:hasTrialOutputResponsible - v-s:responsibleDepartment - hasChief
  if (doc.hasValue('mnd-s:hasTrialOutputResponsible') && doc['mnd-s:hasTrialOutputResponsible'][0].hasValue('v-s:responsibleDepartment') && doc['mnd-s:hasTrialOutputResponsible'][0]['v-s:responsibleDepartment'][0].hasValue('v-s:hasChief')) {
  var responsibleDepartment = doc['mnd-s:hasTrialOutputResponsible'][0]['v-s:responsibleDepartment'][0]['v-s:hasChief'][0];
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(responsibleDepartment);
   }
// Главный технолог
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71000071"));
// Начальник УЗ
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71020115"));
// Главный диспетчер
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:GLAV_DISP_position"));
// Инженер по ОПВ
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024777"));

  routes['review'][simple+'visible'] = [false];
  routes['review'][simple+'editable'] = [false];
}

//--------------------------------------------------------------------------Заявка на проведение ОПВ

if (doc['rdf:type'][0].id === "mnd-s:TrialOutputRequest") {
  routes['informing'][simple+'visible'] = [false];
  routes['informing'][simple+'editable'] = [false];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [3];
  //Главный технолог
  routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71000071"));

  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination2'][simple+'deadlineDays'] = [3];
  // Директор по производству
  routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71018870")];

  routes['coordination3'][simple+'visible'] = [false];
  routes['coordination3'][simple+'editable'] = [false];
  routes['sign'][simple+'visible'] = [false];
  routes['sign'][simple+'editable'] = [false];
  routes['approval'][simple+'visible'] = [false];
  routes['approval'][simple+'editable'] = [false];

  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
// инженер по ОПВ
  routes['review'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71024777")];
}

//--------------------------------------------------------------------------Отчет по ОПВ
if (doc['rdf:type'][0].id === "mnd-s:TrialOutputReport") {
  routes['informing'][simple+'visible'] = [false];
  routes['informing'][simple+'editable'] = [false];
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [3];

  // Начальник цеха
  if (doc['v-s:backwardTarget'][0]['mnd-s:hasTrialOutputResponsible'][0]['v-s:responsibleDepartment'][0].hasValue('v-s:hasChief')){
    var respChief_2 = doc['v-s:backwardTarget'][0]['mnd-s:hasTrialOutputResponsible'][0]['v-s:responsibleDepartment'][0]['v-s:hasChief'][0];
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(respChief_2);
  }

  // Начальник производства
  if (doc['v-s:backwardTarget'][0]['mnd-s:hasTrialOutputResponsible'][0].hasValue('v-s:parentUnit')){
    var parentUnitName = doc['v-s:backwardTarget'][0]['mnd-s:hasTrialOutputResponsible'][0]['v-s:parentUnit'][0].id;
    if (parentUnitName === 'd:mondi_department_50001664') { // Производство бумаги
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014042"));
    } else if (parentUnitName === 'd:mondi_department_50001721') { // Производство целлюлозы
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014040"));
    } else if (parentUnitName === 'd:mondi_department_50001665') { // Производство целлюлозы
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71014260"));
    }
   }

    //Главный технолог
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71000071"));
    // Руководитель группы. Группа технологического контроля ПЦ и ЭП
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024794"));
    // Руководитель группы. Группа технологического контроля ПБ
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024795"));
    // Начальник лаборатории. Производств.лаборат.технолог.контроля
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024493"));
    //Начальник отдела анализа управления бухучета и контроллинга.
    routes['coordination1'][simple+'participant'] = routes['coordination1'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71000220"));

  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination2'][simple+'deadlineDays'] = [3];
  if (doc['v-s:backwardTarget'][0].hasValue("mnd-s:hasAreaForImprovement", "d:a3hzlhyu3zre8p0tp4qw2rks1")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71020115")];
  } else if (doc['v-s:backwardTarget'][0].hasValue("mnd-s:hasAreaForImprovement", "d:ozen3oyudubzn0kg2jr2pp7h")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71014270")];
  } else if (doc['v-s:backwardTarget'][0].hasValue("mnd-s:hasAreaForImprovement", "d:a24axszfwusf1lcckv80m0nag")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71014270")];
  } else if (doc['v-s:backwardTarget'][0].hasValue("mnd-s:hasAreaForImprovement", "d:hy3bz0iy5lumznz3t1p8d0mc")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71024364")];
  } else if (doc['v-s:backwardTarget'][0].hasValue("mnd-s:hasAreaForImprovement", "d:t2hjs6drp55qrwhloomf1ffv")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71017956")];
  } else if (doc['v-s:backwardTarget'][0].hasValue("mnd-s:hasAreaForImprovement", "d:ov6s3mpclgumzsjdh7ww0lgl")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71024364"), new veda.IndividualModel("d:mondi_position_71017956"), new veda.IndividualModel("d:mondi_position_71020115")];
  } else if (doc['v-s:backwardTarget'][0].hasValue("mnd-s:hasAreaForImprovement", "d:vrph83cmydgalaper6wrxiuq")){
    routes['coordination2'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71020115"), new veda.IndividualModel("d:mondi_position_71014270"), new veda.IndividualModel("d:mondi_position_71001270")];
  } else {
    routes['coordination2'][simple+'participant'] = [];
  }

  routes['coordination3'][simple+'visible'] = [false];
  routes['coordination3'][simple+'editable'] = [false];
  routes['sign'][simple+'visible'] = [false];
  routes['sign'][simple+'editable'] = [false];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  // Если успешная то Директор по производству, иначе - никого
  if (doc.hasValue("mnd-s:hasTrialOutputResult", "d:jb6nx8vb0c4fefmfpc9a90n0")){
  routes['approval'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71018870")];
  } else {
    routes['approval'][simple+'participant'] = [];
  }

  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['examination'][simple+'comment'] = [new String('Отчет о выработке утвержден / не утвержден. Ознакомьтесь с результатами выработки и принятыми решениями')];
  // Если отрицательный то Директор по производству
  if (doc.hasValue("mnd-s:hasTrialOutputResult", "d:s2bohtnclkh9qu51fzm45p0p")){
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71018870"));
  }

  if ( doc.hasValue("v-s:creator") ){   // инициатор - автор документа
  var creator = doc["v-s:creator"][0];
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(creator);
  }
  // инженер по ОПВ
  routes['examination'][simple+'participant'] = routes['examination'][simple+'participant'].concat(new veda.IndividualModel("d:mondi_position_71024777"));

  routes['review'][simple+'visible'] = [false];
  routes['review'][simple+'editable'] = [false];

}
//--------------------------------------------------------------------------------Встреча-------
//if (doc['rdf:type'][0].id === "mnd-s:Meeting") {
//  routes['introduction'][simple+'visible'] = [false];
//  routes['introduction'][simple+'editable'] = [false];
//  routes['coordination1'][simple+'visible'] = [false];
//  routes['coordination1'][simple+'editable'] = [false];
//  routes['coordination2'][simple+'visible'] = [false];
//  routes['coordination2'][simple+'editable'] = [false];
//  routes['coordination3'][simple+'visible'] = [false];
//  routes['coordination3'][simple+'editable'] = [false];
//  routes['sign'][simple+'visible'] = [false];
//  routes['sign'][simple+'editable'] = [false];
//  routes['approval'][simple+'visible'] = [false];
//  routes['approval'][simple+'editable'] = [false];
//  routes['review'][simple+'visible'] = [false];
//  routes['review'][simple+'editable'] = [false];
//}

//--------------------------------------------------------------------------------Конструкторская_заявка-------
if (doc['rdf:type'][0].id === "mnd-s:EngineeringRequest") {
  routes['introduction'][simple+'visible'] = [false];
  routes['introduction'][simple+'editable'] = [false];

  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  if (doc.hasValue('v-s:initiator') && doc['v-s:initiator'][0].hasValue('v-s:parentUnit')) {
   var parentUnitName = doc['v-s:initiator'][0]['v-s:parentUnit'][0];
     var chief = parentUnitName.getChief();
   routes['coordination1'][simple+'participant'] = [chief]; // Руководитель подразделения Ответственного лица
   }

  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];

  routes['coordination3'][simple+'visible'] = [false];
  routes['coordination3'][simple+'editable'] = [false];

  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [false];

// если Разработчик = d:mondi_department_50002627 (Проектно-конструкторский отд. УРиР)
// то Рассматривающий - Начальник ПКО УРИР (d:mondi_position_71016920)
// если Разработчик = d:mondi_department_50001898 (Группа раб. проектиров.ПКО)
// то подписывающий - Начальник службы-главный механик. Руководство центральн.механ.службы (d:mondi_position_71013780)
//    рассматривающий - Руководитель группы. Группа раб. проектиров.ПКО (d:mondi_position_71013969)
  if (doc["mnd-s:engineeringRequestDeveloper"][0].id === 'd:mondi_department_50002627'){
   routes['review'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71016920")];
   } else
    if (doc["mnd-s:engineeringRequestDeveloper"][0].id === 'd:mondi_department_50001898'){
    routes['sign'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71013780")];
    routes['review'][simple+'participant'] = [new veda.IndividualModel("d:mondi_position_71013969")];
    }

  routes['approval'][simple+'visible'] = [false];
  routes['approval'][simple+'editable'] = [false];
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [false];
  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['instruction'][simple+'visible'] = [true];
  routes['instruction'][simple+'editable'] = [true];
  routes['distribution'][simple+'visible'] = [true];
  routes['distribution'][simple+'editable'] = [true];
}


//---------------------------------------------------------Заявка на услуги сторонних организаций
if (doc['rdf:type'][0].id === "mnd-s:ExternalServiceRequest") {

  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination1'][simple+'deadlineDays'] = [3];
  routes['coordination1'][simple+'comment'] = [new String('Согласовать заявку')];

  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['coordination2'][simple+'deadlineDays'] = [3];
  routes['coordination2'][simple+'comment'] = [new String('Согласовать заявку')];

  if (doc.hasValue("v-s:supplier")){
    let address="";
    switch (doc["v-s:supplier"][0].id){
      case "d:org_RU1121013750":
        address = "d:hhqbdw2moap8q67q3wf984sg";
        break;
      case "d:a7zkeogdmcr00idlvb8fdeu1b":
        address = "d:sv2flbts3fh3etbfbm95pavv";
        break;
      case "d:org_RU1121009144":
        address = "d:bfzgev0929gfk1z5shlrrgc0";
        break;
      case "d:org_RU7826035384":
        address = "d:frq48nsftbkbmo3zk4vy07ix";
        break;
      case "d:org_RU1121017628":
        address = "d:a7b2p052weud8yowjkjwbmgkx";
        break;
      case "d:org_RU112100014401":
        address = "d:pbfg63kgy6ijste3ue149hf7";
        break;
      case "d:org_RU1121011810":
        address = "d:v70q7kln7jionsxkuow0ugzl";
        break;
      default:
        break;
    }
    routes['review'][simple+'participant'] = [new veda.IndividualModel(address)];
    routes['review'][simple+'visible'] = [true];
    routes['review'][simple+'editable'] = [true];
    routes['review'][simple+'deadlineDays'] = [3];
    routes['review'][simple+'comment'] = [new String('Рассмотреть заявку')];
  }

  routes['examination'][simple+'visible'] = [true];
  routes['examination'][simple+'editable'] = [true];
  routes['examination'][simple+'comment'] = [new String('Ознакомиться с заявкой')];
}

//----------------------------------Внутренние аудиты. Годовая программа-----------------------
if (doc['rdf:type'][0].id === "mnd-s:AuditInternalAnnualPlan") {
  routes['coordination1'][simple+'visible'] = [true];
  routes['coordination1'][simple+'editable'] = [true];
  routes['coordination2'][simple+'visible'] = [true];
  routes['coordination2'][simple+'editable'] = [true];
  routes['sign'][simple+'visible'] = [true];
  routes['sign'][simple+'editable'] = [true];
  routes['approval'][simple+'visible'] = [true];
  routes['approval'][simple+'editable'] = [true];
  routes['review'][simple+'visible'] = [true];
  routes['review'][simple+'editable'] = [true];
}

//---------------------------------------------------------Тестовый маршрут

if (doc['rdf:type'][0].id === "s-wf:ComplexRouteTest") { //Тестовый маршрут
    routes['coordination1'][simple+'participant'] = [
                 new veda.IndividualModel("td:RomanKarpov-Analyst1"),
                 new veda.IndividualModel("td:AndreyBychin-Analyst2")];
    routes['coordination1'][simple+'visible'] = [true];
    routes['coordination2'][simple+'participant'] = [
                 new veda.IndividualModel("td:RomanKarpov-Analyst1"),
                 new veda.IndividualModel("td:AndreyBychin-Analyst2")];
    routes['coordination2'][simple+'visible'] = [true];;
    routes['review'][simple+'participant'] = [new veda.IndividualModel("td:AndreyBychin-Analyst2")];
    routes['review'][simple+'visible'] = [true];
    routes['instruction'][simple+'participant'] = [new veda.IndividualModel("td:AndreyBychin-Analyst2")];
    routes['instruction'][simple+'visible'] = [true];
    routes['examination'][simple+'participant'] = [new veda.IndividualModel("td:AndreyBychin-Analyst2")];
    routes['examination'][simple+'visible'] = [true];
    routes['instruction2'][simple+'participant'] = [new veda.IndividualModel("td:RomanKarpov-Analyst1")];
    routes['instruction2'][simple+'visible'] = [true];
    routes['instruction2'][simple+'controller'] = [new veda.IndividualModel("td:RomanKarpov-Analyst1")];
}

if (doc['rdf:type'][0].id === "s-wf:ComplexRouteTest0") { //Тестовый маршрут 0
    routes['coordination1'][simple+'participant'] = [
                 new veda.IndividualModel("td:RomanKarpov-Analyst1"),
                 new veda.IndividualModel("td:AndreyJoe-Analyst2")];
    routes['coordination1'][simple+'visible'] = [true];
    routes['coordination2'][simple+'participant'] = [
                 new veda.IndividualModel("td:RomanKarpov-Analyst1"),
                 new veda.IndividualModel("td:AndreyJoe-Analyst2")];
    routes['coordination2'][simple+'visible'] = [true];;
    routes['review'][simple+'participant'] = [new veda.IndividualModel("td:AndreyJoe-Analyst2")];
    routes['review'][simple+'visible'] = [true];
    routes['instruction'][simple+'participant'] = [new veda.IndividualModel("td:AndreyJoe-Analyst2")];
    routes['instruction'][simple+'visible'] = [true];
    routes['examination'][simple+'participant'] = [new veda.IndividualModel("td:AndreyJoe-Analyst2")];
    routes['examination'][simple+'visible'] = [true];
    routes['instruction2'][simple+'participant'] = [new veda.IndividualModel("td:RomanKarpov-Analyst1")];
    routes['instruction2'][simple+'visible'] = [true];
    routes['instruction2'][simple+'controller'] = [new veda.IndividualModel("td:RomanKarpov-Analyst1")];
}

if (doc['rdf:type'][0].id === "s-wf:ComplexRouteTest2") { //Тестовый маршрут2
    routes['coordination1'][simple+'participant'] = [
                 new veda.IndividualModel("td:AndreyBychin-Analyst2")]
    routes['coordination1'][simple+'visible'] = [true];
}

if (doc['rdf:type'][0].id === "s-wf:ComplexRouteTest3") { //Тестовый маршрут3
    routes['coordination1'][simple+'participant'] = [
                 new veda.IndividualModel("td:AndreySidorov-Analyst2")]
    routes['coordination1'][simple+'visible'] = [true];
}

stages.forEach(function(stage) {
  var routeid = complex+stage;
  individual[routeid] = [routes[stage]];
  var sub = individual[routeid][0];
  if (!sub.hasValue(simple+'visible') || sub[simple+'visible'][0] == false) {
    $('.'+stage, template).hide();
  }
  if (!sub.hasValue(simple+'editable') || sub[simple+'editable'][0] == false) {
    $('.'+stage, template).attr('about', '@');
    $('.'+stage, template).removeAttr('data-embedded');
    $('veda-control[rel="s-wf:ComplexRouteStartForm_'+stage+'"]', template).remove();
    sub.save();
  }
});
//# sourceURL=s-wf:ComplexRouteStartForm_Template_pre
</script>
<div class="container sheet">
  <style scoped>
    .col-md-6 {
      min-height: 0px;
    }
  </style>
  <h2 about="s-wf:ComplexRouteStartForm" property="rdfs:label"></h2>
  <br>
<!--
  <div class="row">
    <div class="col-md-4">
      <em about="v-wf:processInitiator" property="rdfs:label"></em>
      <div rel="v-wf:processInitiator" data-template="td:AppointmentTemplate2">td:AppointmentTemplate2</div>
    </div>
    <div class="col-md-4">
      <em about="v-wf:processedDocument" property="rdfs:label"></em>
      <div rel="v-wf:processedDocument" data-template="v-ui:ClassNameLabelLinkTemplate"></div>
    </div>
    <div class="col-md-4">
      <em about="v-wf:forNet" property="rdfs:label"></em>
      <div rel="v-wf:forNet" data-template="v-ui:ClassNameLabelLinkTemplate"></div>
    </div>
    <div class="col-md-4">
      <em about="v-wf:isProcess" property="rdfs:label"></em>
      <div rel="v-wf:isProcess" data-template="v-ui:ClassNameLabelLinkTemplate"></div>
    </div>
    <div class="col-md-4">
      <em about="v-wf:useTransformation" property="rdfs:label"></em>
      <div rel="v-wf:useTransformation" data-template="v-ui:ClassNameLabelLinkTemplate"></div>
    </div>
  </div>
  <hr />
-->

  <div class="row">
    <div class="col-md-6 informing" rel="s-wf:ComplexRouteStartForm_informing" data-embedded="true">
      <div class="panel panel-info">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_informing" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-embedded="true" data-template="s-wf:SimpleRouteStartFormMinimal_Template"></div>
      </div>
    </div>
    <div class="col-md-6 introduction" rel="s-wf:ComplexRouteStartForm_introduction" data-embedded="true">
      <div class="panel panel-info">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_introduction" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormShort_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 coordination1" rel="s-wf:ComplexRouteStartForm_coordination1" data-embedded="true">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_coordination1" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormShort_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 coordination2" rel="s-wf:ComplexRouteStartForm_coordination2" data-embedded="true">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_coordination2" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormShort_Template" data-embedded="true"></div>
      </div>
    </div>

    <div class="col-md-6 coordination3" rel="s-wf:ComplexRouteStartForm_coordination3" data-embedded="true">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_coordination3" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormShort_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 coordination4" rel="s-wf:ComplexRouteStartForm_coordination4" data-embedded="true">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_coordination4" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormShort_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 coordination5" rel="s-wf:ComplexRouteStartForm_coordination5" data-embedded="true">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_coordination5" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormShort_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 coordination6" rel="s-wf:ComplexRouteStartForm_coordination6" data-embedded="true">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_coordination6" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormShort_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 sign" rel="s-wf:ComplexRouteStartForm_sign" data-embedded="true">
      <div class="panel panel-warning">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_sign" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormMinimal_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 approval" rel="s-wf:ComplexRouteStartForm_approval" data-embedded="true">
      <div class="panel panel-warning">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_approval" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormMinimal_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 review" rel="s-wf:ComplexRouteStartForm_review" data-embedded="true">
      <div class="panel panel-info">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_review" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormFull_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 instruction" rel="s-wf:ComplexRouteStartForm_instruction" data-embedded="true">
      <div class="panel panel-info">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_instruction" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormFull_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 instruction2" rel="s-wf:ComplexRouteStartForm_instruction2" data-embedded="true">
      <div class="panel panel-info">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_instruction" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormFull_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 instruction3" rel="s-wf:ComplexRouteStartForm_instruction3" data-embedded="true">
      <div class="panel panel-info">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_instruction" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormFull_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 examination" rel="s-wf:ComplexRouteStartForm_examination" data-embedded="true">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_examination" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormMinimal_Template" data-embedded="true"></div>
      </div>
    </div>
    <div class="col-md-6 distribution" rel="s-wf:ComplexRouteStartForm_distribution" data-embedded="true">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title" about="s-wf:ComplexRouteStartForm_distribution" property="rdfs:label"></h3>
        </div>
        <div class="panel-body" about="@" data-template="s-wf:SimpleRouteStartFormMinimal_Template" data-embedded="true"></div>
      </div>
    </div>
  </div>
  <br>
  <div class="actions clearfix">
    <button type="button" class="action btn btn-warning pull-left" id="save_and_start_process" about="v-s:Send" property="rdfs:label"></button>
    <div about="@" class="pull-left" data-template="v-ui:StandardButtonsTemplate" data-embedded="true" data-buttons="cancel"></div>
  </div>
</div>
  """ ;
.

s-wf:ComplexRouteStartForm_informing
  rdf:type rdf:Property ;
  rdfs:label "Информирование"@ru ;
  rdfs:label "Informing"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_introduction
  rdf:type rdf:Property ;
  rdfs:label "Ознакомление"@ru ;
  rdfs:label "Introduction"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_coordination1
  rdf:type rdf:Property ;
  rdfs:label "Согласование 1 уровня"@ru ;
  rdfs:label "Coordination 1 level"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_coordination2
  rdf:type rdf:Property ;
  rdfs:label "Согласование 2 уровня"@ru ;
  rdfs:label "Coordination 2 level"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_coordination3
  rdf:type rdf:Property ;
  rdfs:label "Согласование 3 уровня"@ru ;
  rdfs:label "Coordination 3 level"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_coordination4
  rdf:type rdf:Property ;
  rdfs:label "Согласование 4 уровня"@ru ;
  rdfs:label "Coordination 4 level"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_coordination5
  rdf:type rdf:Property ;
  rdfs:label "Согласование 5 уровня"@ru ;
  rdfs:label "Coordination 5 level"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_coordination6
  rdf:type rdf:Property ;
  rdfs:label "Согласование 6 уровня"@ru ;
  rdfs:label "Coordination 6 level"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_sign
  rdf:type rdf:Property ;
  rdfs:label "Подписание"@ru ;
  rdfs:label "Sign"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_approval
  rdf:type rdf:Property ;
  rdfs:label "Утверждение"@ru ;
  rdfs:label "Approval"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_examination
  rdf:type rdf:Property ;
  rdfs:label "Ознакомление"@ru ;
  rdfs:label "Examination"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_review
  rdf:type rdf:Property ;
  rdfs:label "Рассмотрение"@ru ;
  rdfs:label "Review"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_instruction
  rdf:type rdf:Property ;
  rdfs:label "Поручение"@ru ;
  rdfs:label "Instruction"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_instruction2
  rdf:type rdf:Property ;
  rdfs:label "Поручение"@ru ;
  rdfs:label "Instruction"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_instruction3
  rdf:type rdf:Property ;
  rdfs:label "Поручение"@ru ;
  rdfs:label "Instruction"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:ComplexRouteStartForm_distribution
  rdf:type rdf:Property ;
  rdfs:label "Рассылка уведомлений"@ru ;
  rdfs:label "Distribution"@en ;
  rdfs:domain s-wf:ComplexRouteStartForm ;
  rdfs:range s-wf:SimpleRouteStartForm ;
  rdfs:isDefinedBy s-wf: ;
.

s-wf:pm_sf1
  rdf:type v-s:PermissionStatement ;
  v-s:canCreate "true"^^xsd:boolean ;
  v-s:permissionObject s-wf:SimpleRouteStartForm, s-wf:ComplexRouteStartForm;
  v-s:permissionSubject cfg:AllUsersGroup ;
.



